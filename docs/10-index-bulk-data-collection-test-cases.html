<!DOCTYPE html>
<!-- BBF GitHub Pages pandoc template; modified from default.html template -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="pandoc"/>
  <meta name="description" content="USP – The User Services Platform: Conformance Test Plan for USP Agents"/>
  <meta name="theme-color" content="#157878"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/>
  <title>BBF – 10 Bulk Data Collection Test Cases</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="github.css"/>
  <link rel="stylesheet" href="extra.css"/>
  <link rel="stylesheet" href="toc.css"/>
  <link rel="stylesheet" href="release.css"/>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <!-- XXX header includes are included just before the ToC (below) -->
</head>

<body>
  <section class="page-header">
    <h1 class="project-name">
      <a href="index.html" style="text-decoration: none; color: white;">
        <img src="bbflogo-reverse-dark.png"/><br>
        The User Services Platform
      </a>
    </h1>
    <h2 class="project-tagline">Conformance Test Plan for USP Agents</h2>
    <p></p>
    <p></p>
    <div class="project-buttons">
      <a class="btn" href="index.htm" title="TP-469 Single-file HTML">HTML</a>
      <a class="btn" href="index.pdf" title="TP-469 PDF">PDF</a>
      <a class="btn" href="https://usp.technology" title="usp.technology">Home</a>
    </div>
  </section>

  <section class="main-content">
<nav>
<p>
   <a href="00-index-contents.html#contents">Cover Page</a>
 | <a href="01-index-test-setup.html#sec:test-setup">Test Setup</a>
 | <a href="02-index-authentication-and-access-control-test-cases.html#sec:authentication-and-access-control-test-cases">2 Authentication and Access Control Test Cases</a>
 | <a href="03-index-usp-record-test-cases.html#sec:usp-record-test-cases">3 USP Record Test Cases</a>
 | <a href="04-index-general-mtp-test-cases.html#sec:general-mtp-test-cases">4 General MTP Test Cases</a>
 | <a href="05-index-coap-test-cases-deprecated.html#sec:coap-test-cases-deprecated">5 CoAP Test Cases (DEPRECATED)</a>
 | <a href="06-index-stomp-test-cases.html#sec:stomp-test-cases">6 STOMP Test Cases</a>
 | <a href="07-index-websocket-test-cases.html#sec:websocket-test-cases">7 WebSocket Test Cases</a>
 | <a href="08-index-discovery-test-cases.html#sec:discovery-test-cases">8 Discovery Test Cases</a>
 | <a href="09-index-functionality-test-cases.html#sec:functionality-test-cases">9 Functionality Test Cases</a>
 | <a href="10-index-bulk-data-collection-test-cases.html#sec:bulk-data-collection-test-cases">10 Bulk Data Collection Test Cases</a>
 | <a href="11-index-mqtt-test-cases.html#sec:mqtt-test-cases">11 MQTT Test Cases</a>
</p>
</nav>

<nav id="TOCFULL">
<ul>
  <li><a href="00-index-contents.html#contents">Cover Page</a></li>
  <ul>
    <li><a href="00-index-contents.html#sec:executive-summary">Executive Summary</a></li>
    <li><a href="00-index-contents.html#sec:purpose">Purpose</a></li>
    <li><a href="00-index-contents.html#sec:scope">Scope</a></li>
  </ul>
  <li><a href="01-index-test-setup.html#sec:test-setup">Test Setup</a></li>
  <ul>
    <li><a href="01-index-test-setup.html#sec:test-equipment">Test Equipment</a></li>
    <li><a href="01-index-test-setup.html#sec:test-setup-and-execution">Test Setup and Execution</a></li>
    <li><a href="01-index-test-setup.html#sec:universal-test-metrics">Universal Test Metrics</a></li>
    <li><a href="01-index-test-setup.html#sec:notes-about-test-case-descriptions">Notes about test case descriptions</a></li>
    <li><a href="01-index-test-setup.html#sec:add-message-with-allow-partial-false-single-object-required-parameters-succeed">1.1 Add message with allow partial false, single object, required parameters succeed</a></li>
    <li><a href="01-index-test-setup.html#sec:add-message-with-allow-partial-true-single-object-required-parameters-succeed">1.2 Add message with allow partial true, single object, required parameters succeed</a></li>
    <li><a href="01-index-test-setup.html#sec:add-message-with-allow-partial-false-single-object-required-parameters-fail">1.3 Add message with allow partial false, single object, required parameters fail</a></li>
    <li><a href="01-index-test-setup.html#sec:add-message-with-allow-partial-false-single-invalid-object">1.4 Add message with allow partial false, single invalid object</a></li>
    <li><a href="01-index-test-setup.html#sec:add-message-with-allow-partial-false-multiple-objects">1.5 Add message with allow partial false, multiple objects</a></li>
    <li><a href="01-index-test-setup.html#sec:add-message-with-allow-partial-false-multiple-objects-with-an-invalid-object">1.6 Add message with allow partial false, multiple objects with an invalid object</a></li>
    <li><a href="01-index-test-setup.html#sec:add-message-with-allow-partial-false-multiple-objects-required-parameters-fail-in-single-object">1.7 Add message with allow partial false, multiple objects, required parameters fail in single object</a></li>
    <li><a href="01-index-test-setup.html#sec:add-message-with-allow-partial-true-required-parameters-fail-invalid-type-single-object">1.8 Add message with allow partial true, required parameters fail, invalid type, single object</a></li>
    <li><a href="01-index-test-setup.html#sec:add-message-with-allow-partial-true-required-parameters-fail-multiple-objects">1.9 Add message with allow partial true, required parameters fail, multiple objects</a></li>
    <li><a href="01-index-test-setup.html#sec:add-message-with-unique-key-addressing-in-path">1.10 Add message with unique key addressing in path</a></li>
    <li><a href="01-index-test-setup.html#sec:set-message-with-allow-partial-false-required-parameters-pass">1.11 Set message with allow partial false, required parameters pass</a></li>
    <li><a href="01-index-test-setup.html#sec:set-message-with-allow-partial-true-required-parameters-pass">1.12 Set message with allow partial true, required parameters pass</a></li>
    <li><a href="01-index-test-setup.html#sec:set-message-with-allow-partial-false-multiple-objects">1.13 Set message with allow partial false, multiple objects</a></li>
    <li><a href="01-index-test-setup.html#sec:set-message-with-allow-partial-false-required-parameters-fail">1.14 Set message with allow partial false, required parameters fail</a></li>
    <li><a href="01-index-test-setup.html#sec:set-message-with-allow-partial-false-multiple-objects-required-parameters-fail-in-single-object">1.15 Set message with allow partial false, multiple objects, required parameters fail in single object</a></li>
    <li><a href="01-index-test-setup.html#sec:set-message-with-allow-partial-true-required-parameter-fails-multiple-objects">1.16 Set message with allow partial true, required parameter fails, multiple objects</a></li>
    <li><a href="01-index-test-setup.html#sec:set-message-with-allow-partial-true-non-required-parameter-fails-multiple-parameters">1.17 Set message with allow partial true, non-required parameter fails, multiple parameters</a></li>
    <li><a href="01-index-test-setup.html#sec:set-message-with-unique-key-addressing-in-path">1.18 Set message with unique key addressing in path</a></li>
    <li><a href="01-index-test-setup.html#sec:set-message-with-wildcard-search-path-allow-partial-false-required-parameters-pass">1.19 Set message with wildcard search path, allow partial false, required parameters pass</a></li>
    <li><a href="01-index-test-setup.html#sec:set-message-with-wildcard-search-path-allow-partial-false-required-parameters-fail">1.20 Set message with wildcard search path, allow partial false, required parameters fail</a></li>
    <li><a href="01-index-test-setup.html#sec:set-message-with-wildcard-search-path-allow-partial-true-required-parameters-fail">1.21 Set message with wildcard search path, allow partial true, required parameters fail</a></li>
    <li><a href="01-index-test-setup.html#sec:set-message-with-search-expression-search-path">1.22 Set message with search expression search path</a></li>
    <li><a href="01-index-test-setup.html#sec:set-message-with-path-that-matches-no-objects">1.23 Set message with path that matches no objects</a></li>
    <li><a href="01-index-test-setup.html#sec:delete-message-with-allow-partial-false-valid-object-instance">1.24 Delete message with allow partial false, valid object instance</a></li>
    <li><a href="01-index-test-setup.html#sec:delete-message-with-allow-partial-false-object-instance-doesnt-exist">1.25 Delete message with allow partial false, object instance doesn’t exist</a></li>
    <li><a href="01-index-test-setup.html#sec:delete-message-with-allow-partial-false-invalid-object">1.26 Delete message with allow partial false, invalid object</a></li>
    <li><a href="01-index-test-setup.html#sec:delete-message-with-allow-partial-false-multiple-objects">1.27 Delete message with allow partial false, multiple objects</a></li>
    <li><a href="01-index-test-setup.html#sec:delete-message-with-allow-partial-false-multiple-objects-invalid-object">1.28 Delete message with allow partial false, multiple objects, invalid object</a></li>
    <li><a href="01-index-test-setup.html#sec:delete-message-with-allow-partial-true-object-instance-doesnt-exist">1.29 Delete message with allow partial true, object instance doesn’t exist</a></li>
    <li><a href="01-index-test-setup.html#sec:delete-message-with-allow-partial-true-invalid-object">1.30 Delete message with allow partial true, invalid object</a></li>
    <li><a href="01-index-test-setup.html#sec:delete-message-with-allow-partial-true-multiple-objects-invalid-object">1.31 Delete message with allow partial true, multiple objects, invalid object</a></li>
    <li><a href="01-index-test-setup.html#sec:delete-message-with-allow-partial-true-multiple-objects-object-doesnt-exist">1.32 Delete message with allow partial true, multiple objects, object doesn’t exist</a></li>
    <li><a href="01-index-test-setup.html#sec:delete-message-with-unique-key-addressing">1.33 Delete message with unique key addressing</a></li>
    <li><a href="01-index-test-setup.html#sec:delete-message-with-wildcard-search-path-valid-objects">1.34 Delete message with wildcard search path, valid objects</a></li>
    <li><a href="01-index-test-setup.html#sec:delete-message-with-search-expression-search-path">1.35 Delete message with search expression search path</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-with-full-parameter-path">1.36 Get message with full parameter path</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-with-multiple-full-parameter-paths-same-object">1.37 Get message with multiple full parameter paths, same object</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-with-multiple-full-parameter-paths-different-objects">1.38 Get message with multiple full parameter paths, different objects</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-with-object-path">1.39 Get message with object path</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-with-object-instance-path">1.40 Get message with object instance path</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-with-invalid-parameter">1.41 Get message with invalid parameter</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-with-invalid-parameter-and-valid-parameter">1.42 Get message with invalid parameter and valid parameter</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-using-unique-key-addressing">1.43 Get message using unique key addressing</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-using-wildcard-search-path-on-full-parameter">1.44 Get message using wildcard search path on full parameter</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-using-wildcard-search-path-on-object-path">1.45 Get message using wildcard search path on object path</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-using-search-expression-search-path-equivalence">1.46 Get message using search expression search path (equivalence)</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-using-search-expression-search-path-non-equivalence">1.47 Get message using search expression search path (non-equivalence)</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-using-search-expression-search-path-exclusive-greater-comparison">1.48 Get message using search expression search path (exclusive greater comparison)</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-using-search-expression-search-path-exclusive-lesser-comparison">1.49 Get message using search expression search path (exclusive lesser comparison)</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-using-search-expression-search-path-inclusive-greater-comparison">1.50 Get message using search expression search path (inclusive greater comparison)</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-using-search-expression-search-path-inclusive-lesser-comparison">1.51 Get message using search expression search path (inclusive lesser comparison)</a></li>
    <li><a href="01-index-test-setup.html#sec:notify---subscription-creation-using-value-change">1.52 Notify - Subscription creation using Value Change</a></li>
    <li><a href="01-index-test-setup.html#sec:notify---subscription-deletion-using-value-change">1.53 Notify - Subscription Deletion Using Value Change</a></li>
    <li><a href="01-index-test-setup.html#sec:notification-retry-using-value-change">1.54 Notification Retry using Value Change</a></li>
    <li><a href="01-index-test-setup.html#sec:subscription-expiration-using-value-change">1.55 Subscription Expiration using Value Change</a></li>
    <li><a href="01-index-test-setup.html#sec:notification-retry-expiration-using-value-change">1.56 Notification Retry Expiration using Value Change</a></li>
    <li><a href="01-index-test-setup.html#sec:objectcreation-notification">1.57 ObjectCreation Notification</a></li>
    <li><a href="01-index-test-setup.html#sec:objectdeletion-notification">1.58 ObjectDeletion Notification</a></li>
    <li><a href="01-index-test-setup.html#sec:event-notification-using-periodic">1.59 Event Notification using Periodic!</a></li>
    <li><a href="01-index-test-setup.html#sec:onboardrequest-notification">1.60 OnBoardRequest Notification</a></li>
    <li><a href="01-index-test-setup.html#sec:operate-message-using-reboot-with-send_resp-true">1.61 Operate message using Reboot() with send_resp true</a></li>
    <li><a href="01-index-test-setup.html#sec:operate-message-using-reboot-with-send_resp-false">1.62 Operate message using Reboot() with send_resp false</a></li>
    <li><a href="01-index-test-setup.html#sec:operate-message-using-input-arguments-deprecated-by-1.79">1.63 Operate message using input arguments (DEPRECATED by 1.79)</a></li>
    <li><a href="01-index-test-setup.html#sec:asynchronous-operation-with-send_resp-true">1.64 Asynchronous operation with send_resp true</a></li>
    <li><a href="01-index-test-setup.html#sec:asynchronous-operation-with-send_resp-false">1.65 Asynchronous operation with send_resp false</a></li>
    <li><a href="01-index-test-setup.html#sec:getinstances-using-a-single-object-first_level_only-true">1.66 GetInstances using a single object, first_level_only true</a></li>
    <li><a href="01-index-test-setup.html#sec:getinstances-using-a-single-object-first_level_only-false">1.67 GetInstances using a single object, first_level_only false</a></li>
    <li><a href="01-index-test-setup.html#sec:getinstances-with-multiple-objects">1.68 GetInstances with multiple objects</a></li>
    <li><a href="01-index-test-setup.html#sec:deleted"><em>1.69 DELETED</em></a></li>
    <li><a href="01-index-test-setup.html#sec:getinstances-with-wildcard-search-path">1.70 GetInstances with wildcard search path</a></li>
    <li><a href="01-index-test-setup.html#sec:getinstances-with-search-expression-search-path">1.71 GetInstances with search expression search path</a></li>
    <li><a href="01-index-test-setup.html#sec:getsupporteddm-using-a-single-object-first_level_only-false-all-options">1.72 GetSupportedDM using a single object, first_level_only false, all options</a></li>
    <li><a href="01-index-test-setup.html#sec:getsupporteddm-using-a-single-object-first_level_only-true-all-options">1.73 GetSupportedDM using a single object, first_level_only true, all options</a></li>
    <li><a href="01-index-test-setup.html#sec:getsupporteddm-using-a-single-object-first_level_only-true-no-options">1.74 GetSupportedDM using a single object, first_level_only true, no options</a></li>
    <li><a href="01-index-test-setup.html#sec:getsupporteddm-using-multiple-objects-first_level_only-true-all-options">1.75 GetSupportedDM using multiple objects, first_level_only true, all options</a></li>
    <li><a href="01-index-test-setup.html#sec:getsupporteddm-on-root-object-all-options">1.76 GetSupportedDM on root object, all options</a></li>
    <li><a href="01-index-test-setup.html#sec:getsupporteddm-on-unsupported-object">1.77 GetSupportedDM on unsupported object</a></li>
    <li><a href="01-index-test-setup.html#sec:removal-of-subscriptions-that-have-no-associated-controller">1.78 Removal of subscriptions that have no associated controller</a></li>
    <li><a href="01-index-test-setup.html#sec:operate-message-using-input-arguments">1.79 Operate message using input arguments</a></li>
    <li><a href="01-index-test-setup.html#sec:getsupportedprotocol">1.80 GetSupportedProtocol</a></li>
    <li><a href="01-index-test-setup.html#sec:automatic-unique-key-generation">1.81 Automatic unique key generation</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-with-unmatched-search-expression">1.82 Get message with unmatched search expression</a></li>
    <li><a href="01-index-test-setup.html#sec:getinstances-message-with-unmatched-search-expression">1.83 GetInstances message with unmatched search expression</a></li>
    <li><a href="01-index-test-setup.html#sec:notification---subscription-using-search-paths">1.84 Notification - Subscription using search paths</a></li>
    <li><a href="01-index-test-setup.html#sec:for-future-work-get-message-with-unresolved-instances---addressing-by-instance-number">1.85 (For future work) Get message with unresolved instances - addressing by instance number</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-with-unresolved-instances---using-a-search-path">1.86 Get message with unresolved instances - using a search path</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-with-unresolved-instances---using-an-object-path">1.87 Get message with unresolved instances - using an object path</a></li>
    <li><a href="01-index-test-setup.html#sec:add-message-fails-when-unique-key-is-invalid">1.88 Add message fails when unique key is invalid</a></li>
    <li><a href="01-index-test-setup.html#sec:get-message-using-max_depth">1.89 Get message using max_depth</a></li>
    <li><a href="01-index-test-setup.html#sec:delete-message-with-search-expression-that-matches-no-objects">1.90 Delete message with search expression that matches no objects</a></li>
    <li><a href="01-index-test-setup.html#sec:unknown-arguments-in-an-operate-message">1.91 Unknown arguments in an Operate message</a></li>
    <li><a href="01-index-test-setup.html#sec:agent-uses-default-values-for-operate-arguments">1.92 Agent uses default values for Operate arguments</a></li>
  </ul>
  <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:authentication-and-access-control-test-cases">2 Authentication and Access Control Test Cases</a></li>
  <ul>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:agent-does-not-accept-messages-from-its-own-endpoint-id">2.1 Agent does not accept messages from its own Endpoint ID</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:agent-rejects-messages-that-do-not-contain-its-to_id-in-the-usp-record">2.2 Agent rejects messages that do not contain its to_id in the USP Record</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:agent-does-not-process-messages-without-s-certificate-information---deprecated">2.3 Agent does not process messages without ’s certificate information - DEPRECATED</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:agent-rejects-messages-from-endpoint-ids-that-are-not-in-subjectaltname---deprecated">2.4 Agent rejects messages from Endpoint IDs that are not in subjectAltName - DEPRECATED</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:agent-use-of-self-signed-certificates---deprecated">2.5 Agent use of self-signed certificates - DEPRECATED</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:connecting-without-absolute-time">2.6 Connecting without absolute time</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:agent-ignores-unsigned-or-invalid-record-signatures">2.7 Agent ignores unsigned or invalid Record signatures</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:agent-ignores-invalid-tls-certificate">2.8 Agent ignores invalid TLS certificate</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:use-of-the-untrusted-role">2.9 Use of the Untrusted role</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:adding-a-role">2.10 Adding a Role</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:permissions---object-creation-allowed">2.11 Permissions - Object Creation Allowed</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:permissions---object-creation-not-allowed">2.12 Permissions - Object Creation Not Allowed</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:permissions---object-deletion-allowed">2.13 Permissions - Object Deletion Allowed</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:permissions---object-deletion-not-allowed">2.14 Permissions - Object Deletion Not Allowed</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:permissions---parameter-update-allowed">2.15 Permissions - Parameter Update Allowed</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:permissions---parameter-update-not-allowed">2.16 Permissions - Parameter Update Not Allowed</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:permissions---operation-allowed">2.17 Permissions - Operation Allowed</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:permissions---operation-not-allowed">2.18 Permissions - Operation Not Allowed</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:permissions---value-change-notification-allowed-on-parameter">2.19 Permissions - Value Change Notification Allowed on Parameter</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:permissions---value-change-notification-not-allowed-on-parameter">2.20 Permissions - Value Change Notification Not Allowed on Parameter</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:permissions---overlapping-permissions">2.21 Permissions - Overlapping Permissions</a></li>
    <li><a href="02-index-authentication-and-access-control-test-cases.html#sec:using-get-when-no-read-permissions-are-available-on-some-parameters">2.22 Using Get when no read permissions are available on some parameters</a></li>
  </ul>
  <li><a href="03-index-usp-record-test-cases.html#sec:usp-record-test-cases">3 USP Record Test Cases</a></li>
  <ul>
    <li><a href="03-index-usp-record-test-cases.html#sec:bad-request-outside-a-session-context">3.1 Bad request outside a session context</a></li>
    <li><a href="03-index-usp-record-test-cases.html#sec:agent-verifies-non-payload-field-integrity">3.2 Agent Verifies Non-Payload Field Integrity</a></li>
    <li><a href="03-index-usp-record-test-cases.html#sec:agent-rejects-invalid-signature-starting-a-session-context">3.3 Agent rejects invalid signature starting a session context</a></li>
    <li><a href="03-index-usp-record-test-cases.html#sec:using-tls-for-usp-record-integrity">3.4 Using TLS for USP Record Integrity</a></li>
    <li><a href="03-index-usp-record-test-cases.html#sec:failure-to-establish-tls">3.5 Failure to Establish TLS</a></li>
    <li><a href="03-index-usp-record-test-cases.html#sec:agent-does-not-accept-tls-renegotiation-for-e2e-message-exchange">3.6 Agent does not accept TLS renegotiation for E2E message exchange</a></li>
    <li><a href="03-index-usp-record-test-cases.html#sec:use-of-x.509-certificates">3.7 Use of X.509 Certificates</a></li>
    <li><a href="03-index-usp-record-test-cases.html#sec:establishing-a-session-context">3.8 Establishing a Session Context</a></li>
    <li><a href="03-index-usp-record-test-cases.html#sec:receipt-of-a-record-out-of-a-session-context">3.9 Receipt of a Record out of a Session Context</a></li>
    <li><a href="03-index-usp-record-test-cases.html#sec:session-context-expiration">3.10 Session Context Expiration</a></li>
    <li><a href="03-index-usp-record-test-cases.html#sec:use-of-sequence-id-and-expected-id">3.11 Use of Sequence ID and Expected ID</a></li>
    <li><a href="03-index-usp-record-test-cases.html#sec:preservation-of-usp-records">3.12 Preservation of USP Records</a></li>
    <li><a href="03-index-usp-record-test-cases.html#sec:agent-rejects-records-with-different-payload-security-than-the-established-context">3.13 Agent Rejects Records with Different Payload Security than the Established Context</a></li>
    <li><a href="03-index-usp-record-test-cases.html#sec:use-of-retransmit_id">3.14 Use of retransmit_id</a></li>
    <li><a href="03-index-usp-record-test-cases.html#sec:handling-duplicate-records">3.15 Handling Duplicate Records</a></li>
  </ul>
  <li><a href="04-index-general-mtp-test-cases.html#sec:general-mtp-test-cases">4 General MTP Test Cases</a></li>
  <ul>
    <li><a href="04-index-general-mtp-test-cases.html#sec:use-of-x.509-certificates-at-the-mtp-layer">4.1 Use of X.509 certificates at the MTP layer</a></li>
  </ul>
  <li><a href="05-index-coap-test-cases-deprecated.html#sec:coap-test-cases-deprecated">5 CoAP Test Cases (DEPRECATED)</a></li>
  <ul>
    <li><a href="05-index-coap-test-cases-deprecated.html#sec:mapping-a-usp-record-to-a-coap-message-deprecated">5.1 Mapping a USP Record to a CoAP message (DEPRECATED)</a></li>
    <li><a href="05-index-coap-test-cases-deprecated.html#sec:usp-records-that-exceed-coap-message-size-deprecated">5.2 USP Records that exceed CoAP message size (DEPRECATED)</a></li>
    <li><a href="05-index-coap-test-cases-deprecated.html#sec:successful-coap-exchange-deprecated">5.3 Successful CoAP exchange (DEPRECATED)</a></li>
    <li><a href="05-index-coap-test-cases-deprecated.html#sec:failed-coap-exchange---timeout-deprecated">5.4 Failed CoAP exchange - timeout (DEPRECATED)</a></li>
    <li><a href="05-index-coap-test-cases-deprecated.html#sec:failed-coap-exchange---invalid-method-deprecated">5.5 Failed CoAP Exchange - Invalid Method (DEPRECATED)</a></li>
    <li><a href="05-index-coap-test-cases-deprecated.html#sec:failed-coap-exchange---invalid-content-format-deprecated">5.6 Failed CoAP Exchange - Invalid Content-Format (DEPRECATED)</a></li>
    <li><a href="05-index-coap-test-cases-deprecated.html#sec:failed-coap-exchange---invalid-usp-record-deprecated">5.7 Failed CoAP Exchange - Invalid USP Record (DEPRECATED)</a></li>
    <li><a href="05-index-coap-test-cases-deprecated.html#sec:use-of-dtls-deprecated">5.8 Use of DTLS (DEPRECATED)</a></li>
  </ul>
  <li><a href="06-index-stomp-test-cases.html#sec:stomp-test-cases">6 STOMP Test Cases</a></li>
  <ul>
    <li><a href="06-index-stomp-test-cases.html#sec:support-of-required-profiles">6.1 Support of Required Profiles</a></li>
    <li><a href="06-index-stomp-test-cases.html#sec:stomp-session-establishment">6.2 STOMP session establishment</a></li>
    <li><a href="06-index-stomp-test-cases.html#sec:stomp-connection-retry">6.3 STOMP Connection Retry</a></li>
    <li><a href="06-index-stomp-test-cases.html#sec:successful-usp-message-over-stomp-with-required-headers">6.4 Successful USP message over STOMP with required headers</a></li>
    <li><a href="06-index-stomp-test-cases.html#sec:stomp-destination---provided-in-subscribe-dest">6.5 STOMP destination - provided in subscribe-dest</a></li>
    <li><a href="06-index-stomp-test-cases.html#sec:stomp-destination---configured-in-usp-data-model">6.6 STOMP destination - configured in USP data model</a></li>
    <li><a href="06-index-stomp-test-cases.html#sec:stomp-destination---terminates-unconfigured-session">6.7 STOMP Destination - terminates unconfigured session</a></li>
    <li><a href="06-index-stomp-test-cases.html#sec:use-of-stomp-heartbeat-mechanism">6.8 Use of STOMP heartbeat mechanism</a></li>
    <li><a href="06-index-stomp-test-cases.html#sec:error-handling---unprocessed-record">6.9 Error Handling - Unprocessed Record</a></li>
    <li><a href="06-index-stomp-test-cases.html#sec:agents-stomp-destination-is-changed">6.10 Agent’s STOMP destination is changed</a></li>
    <li><a href="06-index-stomp-test-cases.html#sec:stomp---use-of-tls">6.11 STOMP - Use of TLS</a></li>
    <li><a href="06-index-stomp-test-cases.html#sec:stomp---use-of-connect-record">6.12 STOMP - Use of Connect Record</a></li>
  </ul>
  <li><a href="07-index-websocket-test-cases.html#sec:websocket-test-cases">7 WebSocket Test Cases</a></li>
  <ul>
    <li><a href="07-index-websocket-test-cases.html#sec:session-establishment">7.1 Session Establishment</a></li>
    <li><a href="07-index-websocket-test-cases.html#sec:use-of-only-one-session">7.2 Use of only one session</a></li>
    <li><a href="07-index-websocket-test-cases.html#sec:agent-session-acceptance-from-controller">7.3 Agent session acceptance from Controller</a></li>
    <li><a href="07-index-websocket-test-cases.html#sec:closing-a-websocket-connection">7.4 Closing a WebSocket Connection</a></li>
    <li><a href="07-index-websocket-test-cases.html#sec:rejection-of-session-establishment">7.5 Rejection of Session Establishment</a></li>
    <li><a href="07-index-websocket-test-cases.html#sec:error-handling---unprocessed-records">7.6 Error Handling - Unprocessed Records</a></li>
    <li><a href="07-index-websocket-test-cases.html#sec:use-of-ping-and-pong-frames">7.7 Use of Ping and Pong frames</a></li>
    <li><a href="07-index-websocket-test-cases.html#sec:websocket-session-retry">7.8 WebSocket Session Retry</a></li>
    <li><a href="07-index-websocket-test-cases.html#sec:use-of-tls">7.9 Use of TLS</a></li>
    <li><a href="07-index-websocket-test-cases.html#sec:websocket---use-of-connect-record">7.10 WebSocket - Use of Connect Record</a></li>
  </ul>
  <li><a href="08-index-discovery-test-cases.html#sec:discovery-test-cases">8 Discovery Test Cases</a></li>
  <ul>
    <li><a href="08-index-discovery-test-cases.html#sec:dhcp-discovery---agent-request-requirements">8.1 DHCP Discovery - Agent Request Requirements</a></li>
    <li><a href="08-index-discovery-test-cases.html#sec:dhcp-discovery---agent-handling-of-received-options">8.2 DHCP Discovery - Agent handling of received options</a></li>
    <li><a href="08-index-discovery-test-cases.html#sec:dhcp-discovery---fqdn-leads-to-dns-query">8.3 DHCP Discovery - FQDN Leads to DNS Query</a></li>
    <li><a href="08-index-discovery-test-cases.html#sec:mdns">8.4 mDNS</a></li>
    <li><a href="08-index-discovery-test-cases.html#sec:mdns-and-message-transfer-protocols">8.5 mDNS and Message Transfer Protocols</a></li>
    <li><a href="08-index-discovery-test-cases.html#sec:dns---dns-record-requirements">8.6 DNS - DNS Record Requirements</a></li>
    <li><a href="08-index-discovery-test-cases.html#sec:mdns-request-response">8.7 mDNS request response</a></li>
  </ul>
  <li><a href="09-index-functionality-test-cases.html#sec:functionality-test-cases">9 Functionality Test Cases</a></li>
  <ul>
    <li><a href="09-index-functionality-test-cases.html#sec:use-of-the-timer-event-deprecated-by-9.11">9.1 Use of the Timer! Event (DEPRECATED by 9.11)</a></li>
    <li><a href="09-index-functionality-test-cases.html#sec:use-of-device.localagent.addcertificate">9.2 Use of Device.LocalAgent.AddCertificate()</a></li>
    <li><a href="09-index-functionality-test-cases.html#sec:upgraded-the-agents-firmware---autoactivate-enabled">9.3 Upgraded the Agent’s Firmware - Autoactivate enabled</a></li>
    <li><a href="09-index-functionality-test-cases.html#sec:upgrading-the-agents-firmware---using-timewindow-immediate">9.4 Upgrading the Agent’s Firmware - Using TimeWindow, Immediate</a></li>
    <li><a href="09-index-functionality-test-cases.html#sec:upgrading-the-agents-firmware---using-timewindow-anytime">9.5 Upgrading the Agent’s Firmware - Using TimeWindow, AnyTime</a></li>
    <li><a href="09-index-functionality-test-cases.html#sec:upgrading-the-agents-firmware---validated-firmware">9.6 Upgrading the Agent’s Firmware - Validated Firmware</a></li>
    <li><a href="09-index-functionality-test-cases.html#sec:upgrading-the-agents-firmware---download-to-active-bank">9.7 Upgrading the Agent’s Firmware - Download to Active Bank</a></li>
    <li><a href="09-index-functionality-test-cases.html#sec:upgrading-the-agents-firmware---cancelling-a-request-using-the-cancel-command">9.8 Upgrading the Agent’s Firmware - Cancelling a request using the Cancel() command</a></li>
    <li><a href="09-index-functionality-test-cases.html#sec:adding-a-new-controller---onboardrequest">9.9 Adding a New Controller - OnBoardRequest</a></li>
    <li><a href="09-index-functionality-test-cases.html#sec:use-of-the-boot-event-and-bootparameters">9.10 Use of the Boot! event and BootParameters</a></li>
    <li><a href="09-index-functionality-test-cases.html#sec:use-of-the-timer-event">9.11 Use of the Timer! Event</a></li>
  </ul>
  <li><a href="10-index-bulk-data-collection-test-cases.html#sec:bulk-data-collection-test-cases">10 Bulk Data Collection Test Cases</a></li>
  <ul>
    <li><a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-http-and-json">10.1 Use BulkData collection using HTTP and JSON</a></li>
    <li><a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-https-and-json">10.2 Use BulkData collection using HTTPS and JSON</a></li>
    <li><a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-http-and-csv">10.3 Use BulkData collection using HTTP and CSV</a></li>
    <li><a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-https-and-csv">10.4 Use BulkData collection using HTTPS and CSV</a></li>
    <li><a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-http-with-uri-parameters">10.5 Use BulkData collection using HTTP with URI Parameters</a></li>
    <li><a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-https-with-uri-parameters">10.6 Use BulkData collection using HTTPS with URI Parameters</a></li>
    <li><a href="10-index-bulk-data-collection-test-cases.html#sec:bulkdata-collection-retry-mechanism-over-http">10.7 BulkData collection retry mechanism over HTTP</a></li>
    <li><a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-http-with-wildcard-parameter">10.8 Use BulkData collection using HTTP with wildcard parameter</a></li>
    <li><a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-http-with-object-path">10.9 Use BulkData collection using HTTP with Object Path</a></li>
    <li><a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-push-event">10.10 Use BulkData collection Push event</a></li>
    <li><a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-push-event-with-wildcard-path">10.11 Use BulkData collection Push event with Wildcard path</a></li>
    <li><a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-push-event-with-object-path">10.12 Use BulkData collection Push event with Object path</a></li>
    <li><a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-over-mqtt">10.13 Use BulkData collection over MQTT</a></li>
  </ul>
  <li><a href="11-index-mqtt-test-cases.html#sec:mqtt-test-cases">11 MQTT Test Cases</a></li>
  <ul>
    <li><a href="11-index-mqtt-test-cases.html#sec:support-of-required-mqtt-profiles">11.1 Support of Required MQTT Profiles</a></li>
    <li><a href="11-index-mqtt-test-cases.html#sec:mqtt-session-establishment-using-a-connect-packet">11.2 MQTT session establishment using a CONNECT packet</a></li>
    <li><a href="11-index-mqtt-test-cases.html#sec:mqtt-use-of-tls">11.3 MQTT Use of TLS</a></li>
    <li><a href="11-index-mqtt-test-cases.html#sec:mqtt-5.0-clientid">11.4 MQTT 5.0 ClientID</a></li>
    <li><a href="11-index-mqtt-test-cases.html#sec:mqtt-clientid-persistence">11.5 MQTT ClientID Persistence</a></li>
    <li><a href="11-index-mqtt-test-cases.html#sec:mqtt-message-retry">11.6 MQTT Message Retry</a></li>
    <li><a href="11-index-mqtt-test-cases.html#sec:mqtt-keep-alive">11.7 MQTT Keep Alive</a></li>
    <li><a href="11-index-mqtt-test-cases.html#sec:mqtt-subscribe-packet">11.8 MQTT SUBSCRIBE Packet</a></li>
    <li><a href="11-index-mqtt-test-cases.html#sec:mqtt-new-subscription">11.9 MQTT New Subscription</a></li>
    <li><a href="11-index-mqtt-test-cases.html#sec:mqtt-no-topic-in-connack">11.10 MQTT No Topic in CONNACK</a></li>
    <li><a href="11-index-mqtt-test-cases.html#sec:mqtt-failure-to-subscribe">11.11 MQTT Failure to Subscribe</a></li>
    <li><a href="11-index-mqtt-test-cases.html#sec:mqtt-publish-packet">11.12 MQTT PUBLISH Packet</a></li>
    <li><a href="11-index-mqtt-test-cases.html#sec:mqtt-qos">11.13 MQTT QoS</a></li>
    <li><a href="11-index-mqtt-test-cases.html#sec:mqtt-reply-to-topic">11.14 MQTT Reply to Topic</a></li>
    <li><a href="11-index-mqtt-test-cases.html#sec:mqtt-5.0-content-type">11.15 MQTT 5.0 Content Type</a></li>
    <li><a href="11-index-mqtt-test-cases.html#sec:mqtt-connection-retry">11.16 MQTT Connection Retry</a></li>
    <li><a href="11-index-mqtt-test-cases.html#sec:mqtt---use-of-connect-record">11.17 MQTT - Use of Connect Record</a></li>
  </ul>
</ul>
</nav>

    <header id="title-block-header">
      <h1 class="title" id="sec:bulk-data-collection-test-cases">10 Bulk Data Collection Test Cases<a href="#sec:bulk-data-collection-test-cases" class="headerlink" title="Permalink to this header"> <img src="permalink.png" style="width: 0.8em"/></a></h1>
    </header>
    <nav id="_TOC" role="doc-toc">
<ul>
<li><a href="#sec:use-bulkdata-collection-using-http-and-json">10.1 Use BulkData collection using HTTP and JSON <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:use-bulkdata-collection-using-https-and-json">10.2 Use BulkData collection using HTTPS and JSON <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:use-bulkdata-collection-using-http-and-csv">10.3 Use BulkData collection using HTTP and CSV <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:use-bulkdata-collection-using-https-and-csv">10.4 Use BulkData collection using HTTPS and CSV <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:use-bulkdata-collection-using-http-with-uri-parameters">10.5 Use BulkData collection using HTTP with URI Parameters <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:use-bulkdata-collection-using-https-with-uri-parameters">10.6 Use BulkData collection using HTTPS with URI Parameters <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:bulkdata-collection-retry-mechanism-over-http">10.7 BulkData collection retry mechanism over HTTP <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:use-bulkdata-collection-using-http-with-wildcard-parameter">10.8 Use BulkData collection using HTTP with wildcard parameter <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:use-bulkdata-collection-using-http-with-object-path">10.9 Use BulkData collection using HTTP with Object Path <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:use-bulkdata-collection-push-event">10.10 Use BulkData collection Push event <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:use-bulkdata-collection-push-event-with-wildcard-path">10.11 Use BulkData collection Push event with Wildcard path <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:use-bulkdata-collection-push-event-with-object-path">10.12 Use BulkData collection Push event with Object path <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:use-bulkdata-collection-over-mqtt">10.13 Use BulkData collection over MQTT <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
</ul>
    </nav>
<h2 id="sec:use-bulkdata-collection-using-http-and-json">10.1 Use BulkData collection using HTTP and JSON <a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-http-and-json" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:purpose-175">Purpose <a href="10-index-bulk-data-collection-test-cases.html#sec:purpose-175" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>The purpose of this test is to verify that EUT supports JSON BulkData collection over HTTP.</p>
<h3 id="sec:functionality-tags-86">Functionality Tags <a href="10-index-bulk-data-collection-test-cases.html#sec:functionality-tags-86" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>Conditional Mandatory (supports BulkDataColl:1, “HTTP” ∈ Device.BulkData.Protocols, “JSON” ∈ Device.BulkData.EncodingTypes)</p>
<h3 id="sec:test-setup-175">Test Setup <a href="10-index-bulk-data-collection-test-cases.html#sec:test-setup-175" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>Ensure that the EUT and test equipment have the necessary information to send and receive USP Records to each other.</li>
<li>Ensure a HTTP endpoint that is accessible by the EUT is configured to support receiving JSON BulkData transfers.</li>
</ol>
<h3 id="sec:test-procedure-168">Test Procedure <a href="10-index-bulk-data-collection-test-cases.html#sec:test-procedure-168" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&#39;
          param_settings {
               param: &#39;Protocol&#39;
               value: &#39;HTTP&#39;
           }
          param_settings {
               param: &#39;EncodingType&#39;
               value: &#39;JSON&#39;
           }
          param_settings {
               param: &#39;ReportingInterval&#39;
               value: &#39;max(60, Device.BulkData.MinReportingInterval)&#39;
           }
          param_settings {
               param: &#39;HTTP.URL&#39;
               value: &#39;&lt;URL of http endpoint&gt;&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.&#39;
          param_settings {
               param: &#39;Name&#39;
               value: &#39;UpTime&#39;
           }
          param_settings {
               param: &#39;Reference&#39;
               value: &#39;Device.DeviceInfo.UpTime&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: &#39;Device.BulkData.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
        update_objs {
            obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>
<h3 id="sec:test-metrics-176">Test Metrics <a href="10-index-bulk-data-collection-test-cases.html#sec:test-metrics-176" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfers to the HTTP endpoint within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The encoding of the BulkData transfer is JSON and is well formed (parsable).</li>
<li>The BulkData transfer contains the one parameter configured in step 4 and the name of the parameter matches the expected name ‘UpTime’.</li>
<li>Ensure the Manufacturer OUI, Product Class and Serial Number or the USP Endpoint ID are encoded as URI parameters in the request.</li>
</ol>
<h2 id="sec:use-bulkdata-collection-using-https-and-json">10.2 Use BulkData collection using HTTPS and JSON <a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-https-and-json" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:purpose-176">Purpose <a href="10-index-bulk-data-collection-test-cases.html#sec:purpose-176" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>The purpose of this test is to verify that EUT supports JSON BulkData collection over HTTPS.</p>
<h3 id="sec:functionality-tags-87">Functionality Tags <a href="10-index-bulk-data-collection-test-cases.html#sec:functionality-tags-87" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>Conditional Mandatory (supports BulkDataColl:1, “HTTP” ∈ Device.BulkData.Protocols, “JSON” ∈ Device.BulkData.EncodingTypes)</p>
<h3 id="sec:test-setup-176">Test Setup <a href="10-index-bulk-data-collection-test-cases.html#sec:test-setup-176" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>Ensure that the EUT and test equipment have the necessary information to send and receive USP Records to each other.</li>
<li>Ensure a HTTPS endpoint that is accessible by the EUT is configured to support receiving JSON BulkData transfers.</li>
</ol>
<h3 id="sec:test-procedure-169">Test Procedure <a href="10-index-bulk-data-collection-test-cases.html#sec:test-procedure-169" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&#39;
          param_settings {
               param: &#39;Protocol&#39;
               value: &#39;HTTP&#39;
           }
          param_settings {
               param: &#39;EncodingType&#39;
               value: &#39;JSON&#39;
           }
          param_settings {
               param: &#39;ReportingInterval&#39;
               value: &#39;max(60, Device.BulkData.MinReportingInterval)&#39;
           }
          param_settings {
               param: &#39;HTTP.URL&#39;
               value: &#39;&lt;URL of http endpoint&gt;&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.&#39;
          param_settings {
               param: &#39;Name&#39;
               value: &#39;UpTime&#39;
           }
          param_settings {
               param: &#39;Reference&#39;
               value: &#39;Device.DeviceInfo.UpTime&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: &#39;Device.BulkData.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
        update_objs {
            obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>
<h3 id="sec:test-metrics-177">Test Metrics <a href="10-index-bulk-data-collection-test-cases.html#sec:test-metrics-177" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfers to the HTTPS endpoint within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The encoding of the BulkData transfer is JSON and is well formed (parsable).</li>
<li>The BulkData transfer contains the one parameter configured in step 4 and the name of the parameter matches the expected name ‘UpTime’.</li>
<li>Ensure the Manufacturer OUI, Product Class and Serial Number or the USP Endpoint ID are encoded as URI parameters in the request.</li>
</ol>
<h2 id="sec:use-bulkdata-collection-using-http-and-csv">10.3 Use BulkData collection using HTTP and CSV <a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-http-and-csv" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:purpose-177">Purpose <a href="10-index-bulk-data-collection-test-cases.html#sec:purpose-177" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>The purpose of this test is to verify that EUT supports CSV BulkData collection over HTTP.</p>
<h3 id="sec:functionality-tags-88">Functionality Tags <a href="10-index-bulk-data-collection-test-cases.html#sec:functionality-tags-88" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>Conditional Mandatory (supports BulkDataColl:1, “HTTP” ∈ Device.BulkData.Protocols, “CSV” ∈ Device.BulkData.EncodingTypes)</p>
<h3 id="sec:test-setup-177">Test Setup <a href="10-index-bulk-data-collection-test-cases.html#sec:test-setup-177" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>Ensure that the EUT and test equipment have the necessary information to send and receive USP Records to each other.</li>
<li>Ensure a HTTP endpoint that is accessible by the EUT is configured to support receiving CSV BulkData transfers.</li>
</ol>
<h3 id="sec:test-procedure-170">Test Procedure <a href="10-index-bulk-data-collection-test-cases.html#sec:test-procedure-170" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&#39;
          param_settings {
               param: &#39;Protocol&#39;
               value: &#39;HTTP&#39;
           }
          param_settings {
               param: &#39;EncodingType&#39;
               value: &#39;CSV&#39;
           }
          param_settings {
               param: &#39;ReportingInterval&#39;
               value: &#39;max(60, Device.BulkData.MinReportingInterval)&#39;
           }
          param_settings {
               param: &#39;HTTP.URL&#39;
               value: &#39;&lt;URL of http endpoint&gt;&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.&#39;
          param_settings {
               param: &#39;Name&#39;
               value: &#39;UpTime&#39;
           }
          param_settings {
               param: &#39;Reference&#39;
               value: &#39;Device.DeviceInfo.UpTime&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: &#39;Device.BulkData.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
        update_objs {
            obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>
<h3 id="sec:test-metrics-178">Test Metrics <a href="10-index-bulk-data-collection-test-cases.html#sec:test-metrics-178" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfers to the HTTP endpoint within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The encoding of the BulkData transfer is CSV and is well formed (parsable).</li>
<li>The BulkData transfer contains the one parameter configured in step 4 and the name of the parameter matches the expected name ‘UpTime’.</li>
<li>Ensure the Manufacturer OUI, Product Class and Serial Number or the USP Endpoint ID are encoded as URI parameters in the request.</li>
</ol>
<h2 id="sec:use-bulkdata-collection-using-https-and-csv">10.4 Use BulkData collection using HTTPS and CSV <a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-https-and-csv" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:purpose-178">Purpose <a href="10-index-bulk-data-collection-test-cases.html#sec:purpose-178" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>The purpose of this test is to verify that EUT supports CSV BulkData collection over HTTPS.</p>
<h3 id="sec:functionality-tags-89">Functionality Tags <a href="10-index-bulk-data-collection-test-cases.html#sec:functionality-tags-89" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>Conditional Mandatory (supports BulkDataColl:1, “HTTP” ∈ Device.BulkData.Protocols, “CSV” ∈ Device.BulkData.EncodingTypes)</p>
<h3 id="sec:test-setup-178">Test Setup <a href="10-index-bulk-data-collection-test-cases.html#sec:test-setup-178" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>Ensure that the EUT and test equipment have the necessary information to send and receive USP Records to each other.</li>
<li>Ensure a HTTPS endpoint that is accessible by the EUT is configured to support receiving CSV BulkData transfers.</li>
</ol>
<h3 id="sec:test-procedure-171">Test Procedure <a href="10-index-bulk-data-collection-test-cases.html#sec:test-procedure-171" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&#39;
          param_settings {
               param: &#39;Protocol&#39;
               value: &#39;HTTP&#39;
           }
          param_settings {
               param: &#39;EncodingType&#39;
               value: &#39;CSV&#39;
           }
          param_settings {
               param: &#39;ReportingInterval&#39;
               value: &#39;max(60, Device.BulkData.MinReportingInterval)&#39;
           }
          param_settings {
               param: &#39;HTTP.URL&#39;
               value: &#39;&lt;URL of http endpoint&gt;&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.&#39;
          param_settings {
               param: &#39;Name&#39;
               value: &#39;UpTime&#39;
           }
          param_settings {
               param: &#39;Reference&#39;
               value: &#39;Device.DeviceInfo.UpTime&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: &#39;Device.BulkData.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
        update_objs {
            obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>
<h3 id="sec:test-metrics-179">Test Metrics <a href="10-index-bulk-data-collection-test-cases.html#sec:test-metrics-179" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfers to the HTTPS endpoint within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The encoding of the BulkData transfer is CSV and is well formed (parsable).</li>
<li>The BulkData transfer contains the one parameter configured in step 4 and the name of the parameter matches the expected name ‘UpTime’.</li>
<li>Ensure the Manufacturer OUI, Product Class and Serial Number or the USP Endpoint ID are encoded as URI parameters in the request.</li>
</ol>
<h2 id="sec:use-bulkdata-collection-using-http-with-uri-parameters">10.5 Use BulkData collection using HTTP with URI Parameters <a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-http-with-uri-parameters" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:purpose-179">Purpose <a href="10-index-bulk-data-collection-test-cases.html#sec:purpose-179" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>The purpose of this test is to verify that EUT supports BulkData collection over HTTP with extra URI parameters</p>
<h3 id="sec:functionality-tags-90">Functionality Tags <a href="10-index-bulk-data-collection-test-cases.html#sec:functionality-tags-90" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>Conditional Mandatory (supports BulkDataColl:1, “HTTP” ∈ Device.BulkData.Protocols)</p>
<h3 id="sec:test-setup-179">Test Setup <a href="10-index-bulk-data-collection-test-cases.html#sec:test-setup-179" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>Ensure that the EUT and test equipment have the necessary information to send and receive USP Records to each other.</li>
<li>Ensure a HTTP endpoint that is accessible by the EUT is configured.</li>
</ol>
<h3 id="sec:test-procedure-172">Test Procedure <a href="10-index-bulk-data-collection-test-cases.html#sec:test-procedure-172" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&#39;
          param_settings {
               param: &#39;Protocol&#39;
               value: &#39;HTTP&#39;
           }
          param_settings {
               param: &#39;EncodingType&#39;
               value: &#39;&lt;Supported Encoding type&gt;&#39;
           }
          param_settings {
               param: &#39;ReportingInterval&#39;
               value: &#39;max(60, Device.BulkData.MinReportingInterval)&#39;
           }
          param_settings {
               param: &#39;HTTP.URL&#39;
               value: &#39;&lt;URL of http endpoint&gt;&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.&#39;
          param_settings {
               param: &#39;Name&#39;
               value: &#39;UpTime&#39;
           }
          param_settings {
               param: &#39;Reference&#39;
               value: &#39;Device.DeviceInfo.UpTime&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.HTTP.RequestURIParameter.&#39;
          param_settings {
               param: &#39;Name&#39;
               value: &#39;UpTime&#39;
           }
          param_settings {
               param: &#39;Reference&#39;
               value: &#39;Device.LocalAgent.UpTime&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: &#39;Device.BulkData.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
        update_objs {
            obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>
<h3 id="sec:test-metrics-180">Test Metrics <a href="10-index-bulk-data-collection-test-cases.html#sec:test-metrics-180" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfers to the HTTP endpoint within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The EUT includes the EUT UpTime encoded into the URI using the name ‘UpTime’</li>
<li>Ensure the Manufacturer OUI, Product Class and Serial Number or the USP Endpoint ID are also encoded as URI parameters in the request.</li>
</ol>
<h2 id="sec:use-bulkdata-collection-using-https-with-uri-parameters">10.6 Use BulkData collection using HTTPS with URI Parameters <a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-https-with-uri-parameters" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:purpose-180">Purpose <a href="10-index-bulk-data-collection-test-cases.html#sec:purpose-180" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>The purpose of this test is to verify that EUT supports BulkData collection over HTTPS with extra URI parameters</p>
<h3 id="sec:functionality-tags-91">Functionality Tags <a href="10-index-bulk-data-collection-test-cases.html#sec:functionality-tags-91" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>Conditional Mandatory (supports BulkDataColl:1, “HTTP” ∈ Device.BulkData.Protocols)</p>
<h3 id="sec:test-setup-180">Test Setup <a href="10-index-bulk-data-collection-test-cases.html#sec:test-setup-180" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>Ensure that the EUT and test equipment have the necessary information to send and receive USP Records to each other.</li>
<li>Ensure a HTTPS endpoint that is accessible by the EUT is configured.</li>
</ol>
<h3 id="sec:test-procedure-173">Test Procedure <a href="10-index-bulk-data-collection-test-cases.html#sec:test-procedure-173" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&#39;
          param_settings {
               param: &#39;Protocol&#39;
               value: &#39;HTTP&#39;
           }
          param_settings {
               param: &#39;EncodingType&#39;
               value: &#39;&lt;Supported Encoding type&gt;&#39;
           }
          param_settings {
               param: &#39;ReportingInterval&#39;
               value: &#39;max(60, Device.BulkData.MinReportingInterval)&#39;
           }
          param_settings {
               param: &#39;HTTP.URL&#39;
               value: &#39;&lt;URL of https endpoint&gt;&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.&#39;
          param_settings {
               param: &#39;Name&#39;
               value: &#39;UpTime&#39;
           }
          param_settings {
               param: &#39;Reference&#39;
               value: &#39;Device.DeviceInfo.UpTime&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.HTTP.RequestURIParameter.&#39;
          param_settings {
               param: &#39;Name&#39;
               value: &#39;UpTime&#39;
           }
          param_settings {
               param: &#39;Reference&#39;
               value: &#39;Device.LocalAgent.UpTime&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: &#39;Device.BulkData.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
        update_objs {
            obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>
<h3 id="sec:test-metrics-181">Test Metrics <a href="10-index-bulk-data-collection-test-cases.html#sec:test-metrics-181" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfers to the HTTPS endpoint within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The EUT includes the EUT UpTime encoded into the URI using the name ‘UpTime’</li>
<li>Ensure the Manufacturer OUI, Product Class and Serial Number or the USP Endpoint ID are also encoded as URI parameters in the request.</li>
</ol>
<h2 id="sec:bulkdata-collection-retry-mechanism-over-http">10.7 BulkData collection retry mechanism over HTTP <a href="10-index-bulk-data-collection-test-cases.html#sec:bulkdata-collection-retry-mechanism-over-http" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:purpose-181">Purpose <a href="10-index-bulk-data-collection-test-cases.html#sec:purpose-181" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>The purpose of this test is to verify that EUT supports BulkData collection retry mechanism.</p>
<h3 id="sec:functionality-tags-92">Functionality Tags <a href="10-index-bulk-data-collection-test-cases.html#sec:functionality-tags-92" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>Conditional Mandatory (supports BulkDataColl:1, “HTTP” ∈ Device.BulkData.Protocols)</p>
<h3 id="sec:test-setup-181">Test Setup <a href="10-index-bulk-data-collection-test-cases.html#sec:test-setup-181" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>Ensure that the EUT and test equipment have the necessary information to send and receive USP Records to each other.</li>
<li>Ensure a HTTP endpoint that is accessible by the EUT is configured.</li>
</ol>
<h3 id="sec:test-procedure-174">Test Procedure <a href="10-index-bulk-data-collection-test-cases.html#sec:test-procedure-174" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&#39;
          param_settings {
               param: &#39;Protocol&#39;
               value: &#39;HTTP&#39;
           }
          param_settings {
               param: &#39;EncodingType&#39;
               value: &#39;&lt;Supported Encoding type&gt;&#39;
           }
          param_settings {
               param: &#39;ReportingInterval&#39;
               value: &#39;max(60, Device.BulkData.MinReportingInterval)&#39;
           }
          param_settings {
               param: &#39;HTTP.URL&#39;
               value: &#39;&lt;URL of http endpoint&gt;&#39;
           }
          param_settings {
               param: &#39;HTTP.RetryEnable&#39;
               value: &#39;true&#39;
           }
          param_settings {
               param: &#39;HTTP.RetryMinimumWaitInterval&#39;
               value: &#39;5&#39;
           }
          param_settings {
               param: &#39;HTTP.RetryIntervalMultiplier&#39;
               value: &#39;2000&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.&#39;
          param_settings {
               param: &#39;Name&#39;
               value: &#39;UpTime&#39;
           }
          param_settings {
               param: &#39;Reference&#39;
               value: &#39;Device.DeviceInfo.UpTime&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Disable the HTTP BulkData collection endpoint.</p></li>
<li><p>Send a Set message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: &#39;Device.BulkData.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
        update_objs {
            obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to attempt to send a BulkData transfer.</p></li>
<li><p>Wait for 13 seconds for the EUT to retry the BulkData transfer.</p></li>
<li><p>Wait for 23 seconds for the EUT to retry the BulkData transfer.</p></li>
<li><p>Enable the HTTP BulkData collection endpoint</p></li>
<li><p>Wait for 43 seconds for the EUT to retry the BulkData transfer.</p></li>
<li><p>Wait for the EUT to send a BulkData transfer</p></li>
</ol>
<h3 id="sec:test-metrics-182">Test Metrics <a href="10-index-bulk-data-collection-test-cases.html#sec:test-metrics-182" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfers to the HTTP endpoint within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The EUT retries sending the BulkData transfer 3 times with each time occurring within the expected retry interval.</li>
<li>The EUT does not attempt to retry the BulkData transfer after receiving a positive response in step 9.</li>
<li>Ensure the Manufacturer OUI, Product Class and Serial Number or the USP Endpoint ID are encoded as URI parameters in each request.</li>
</ol>
<h2 id="sec:use-bulkdata-collection-using-http-with-wildcard-parameter">10.8 Use BulkData collection using HTTP with wildcard parameter <a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-http-with-wildcard-parameter" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:purpose-182">Purpose <a href="10-index-bulk-data-collection-test-cases.html#sec:purpose-182" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>The purpose of this test is to verify that EUT supports BulkData collection over HTTP with a wildcarded parameter</p>
<h3 id="sec:functionality-tags-93">Functionality Tags <a href="10-index-bulk-data-collection-test-cases.html#sec:functionality-tags-93" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>Conditional Mandatory (supports BulkDataColl:1, “HTTP” ∈ Device.BulkData.Protocols)</p>
<h3 id="sec:test-setup-182">Test Setup <a href="10-index-bulk-data-collection-test-cases.html#sec:test-setup-182" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>Ensure that the EUT and test equipment have the necessary information to send and receive USP Records to each other.</li>
<li>Ensure a HTTP endpoint that is accessible by the EUT is configured.</li>
<li>Ensure there are at least 2 BootParameters configured for the test controller.</li>
</ol>
<h3 id="sec:test-procedure-175">Test Procedure <a href="10-index-bulk-data-collection-test-cases.html#sec:test-procedure-175" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&#39;
          param_settings {
               param: &#39;Protocol&#39;
               value: &#39;HTTP&#39;
           }
          param_settings {
               param: &#39;EncodingType&#39;
               value: &#39;&lt;Supported Encoding type&gt;&#39;
           }
          param_settings {
               param: &#39;ReportingInterval&#39;
               value: &#39;max(60, Device.BulkData.MinReportingInterval)&#39;
           }
          param_settings {
               param: &#39;HTTP.URL&#39;
               value: &#39;&lt;URL of http endpoint&gt;&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.&#39;
          param_settings {
               param: &#39;Name&#39;
               value: &#39;Enabled&#39;
           }
          param_settings {
               param: &#39;Reference&#39;
               value: &#39;Device.LocalAgent.Controller.*.BootParameter.*.Enable&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: &#39;Device.BulkData.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
        update_objs {
            obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>
<h3 id="sec:test-metrics-183">Test Metrics <a href="10-index-bulk-data-collection-test-cases.html#sec:test-metrics-183" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfers to the HTTP endpoint within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>Ensure at least two “Enable” are in the BulkData transfer with the parameter names matching the following expression: <code>Enabled\.[1-9][0-9]*\.[1-9][0-9]*</code></li>
<li>Ensure the Manufacturer OUI, Product Class and Serial Number or the USP Endpoint ID are also encoded as URI parameters in the request.</li>
</ol>
<h2 id="sec:use-bulkdata-collection-using-http-with-object-path">10.9 Use BulkData collection using HTTP with Object Path <a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-http-with-object-path" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:purpose-183">Purpose <a href="10-index-bulk-data-collection-test-cases.html#sec:purpose-183" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>The purpose of this test is to verify that EUT supports BulkData collection over HTTP with an Object Path</p>
<h3 id="sec:functionality-tags-94">Functionality Tags <a href="10-index-bulk-data-collection-test-cases.html#sec:functionality-tags-94" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>Conditional Mandatory (supports BulkDataColl:1, “HTTP” ∈ Device.BulkData.Protocols)</p>
<h3 id="sec:test-setup-183">Test Setup <a href="10-index-bulk-data-collection-test-cases.html#sec:test-setup-183" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>Ensure that the EUT and test equipment have the necessary information to send and receive USP Records to each other.</li>
<li>Ensure a HTTP endpoint that is accessible by the EUT is configured.</li>
</ol>
<h3 id="sec:test-procedure-176">Test Procedure <a href="10-index-bulk-data-collection-test-cases.html#sec:test-procedure-176" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&#39;
          param_settings {
               param: &#39;Protocol&#39;
               value: &#39;HTTP&#39;
           }
          param_settings {
               param: &#39;EncodingType&#39;
               value: &#39;&lt;Supported Encoding type&gt;&#39;
           }
          param_settings {
               param: &#39;ReportingInterval&#39;
               value: &#39;max(60, Device.BulkData.MinReportingInterval)&#39;
           }
          param_settings {
               param: &#39;HTTP.URL&#39;
               value: &#39;&lt;URL of http endpoint&gt;&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.&#39;
          param_settings {
               param: &#39;Name&#39;
               value: &#39;TestController&#39;
           }
          param_settings {
               param: &#39;Reference&#39;
               value: &#39;Device.LocalAgent.Controller.&lt;controller instance&gt;.&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: &#39;Device.BulkData.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
        update_objs {
            obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>
<h3 id="sec:test-metrics-184">Test Metrics <a href="10-index-bulk-data-collection-test-cases.html#sec:test-metrics-184" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfers to the HTTPS endpoint within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>Ensure that all the parameters included in the BulkData transfer match <code>TestController.&lt;parameter&gt;</code> and that all expected parameters are present.</li>
<li>Ensure the Manufacturer OUI, Product Class and Serial Number or the USP Endpoint ID are also encoded as URI parameters in the request.</li>
</ol>
<h2 id="sec:use-bulkdata-collection-push-event">10.10 Use BulkData collection Push event <a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-push-event" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:purpose-184">Purpose <a href="10-index-bulk-data-collection-test-cases.html#sec:purpose-184" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>The purpose of this test is to verify that EUT supports BulkData collection via the Push event.</p>
<h3 id="sec:functionality-tags-95">Functionality Tags <a href="10-index-bulk-data-collection-test-cases.html#sec:functionality-tags-95" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>Conditional Mandatory (supports BulkDataColl:1, “USPEventNotif” ∈ Device.BulkData.Protocols)</p>
<h3 id="sec:test-setup-184">Test Setup <a href="10-index-bulk-data-collection-test-cases.html#sec:test-setup-184" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>Ensure that the EUT and test equipment have the necessary information to send and receive USP Records to each other.</li>
</ol>
<h3 id="sec:test-procedure-177">Test Procedure <a href="10-index-bulk-data-collection-test-cases.html#sec:test-procedure-177" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&#39;
          param_settings {
               param: &#39;Protocol&#39;
               value: &#39;USPEventNotif&#39;
           }
          param_settings {
               param: &#39;EncodingType&#39;
               value: &#39;&lt;JSON or CSV&gt;&#39;
           }
          param_settings {
               param: &#39;ReportingInterval&#39;
               value: &#39;max(60, Device.BulkData.MinReportingInterval)&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.&#39;
          param_settings {
               param: &#39;Name&#39;
               value: &#39;UpTime&#39;
           }
          param_settings {
               param: &#39;Reference&#39;
               value: &#39;Device.DeviceInfo.UpTime&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.LocalAgent.Subscription.&#39;
          param_settings {
               param: &#39;NotifType&#39;
               value: &#39;Event&#39;
           }
          param_settings {
               param: &#39;ReferenceList&#39;
               value: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.Push!&#39;
           }
          param_settings {
               param: &#39;Enable&#39;
               value: &#39;true&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: &#39;Device.BulkData.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
        update_objs {
            obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>
<h3 id="sec:test-metrics-185">Test Metrics <a href="10-index-bulk-data-collection-test-cases.html#sec:test-metrics-185" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfer Push! events to the controller within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The encoding of the Data parameter in the Push! notification is well formed (parsable).</li>
<li>The BulkData transfer contains the one parameter configured in step 4 and the name of the parameter matches the expected name ‘UpTime’.</li>
</ol>
<h2 id="sec:use-bulkdata-collection-push-event-with-wildcard-path">10.11 Use BulkData collection Push event with Wildcard path <a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-push-event-with-wildcard-path" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:purpose-185">Purpose <a href="10-index-bulk-data-collection-test-cases.html#sec:purpose-185" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>The purpose of this test is to verify that EUT supports BulkData collection via the Push event using a wildcard path.</p>
<h3 id="sec:functionality-tags-96">Functionality Tags <a href="10-index-bulk-data-collection-test-cases.html#sec:functionality-tags-96" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>Conditional Mandatory (supports BulkDataColl:1, “USPEventNotif” ∈ Device.BulkData.Protocols)</p>
<h3 id="sec:test-setup-185">Test Setup <a href="10-index-bulk-data-collection-test-cases.html#sec:test-setup-185" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>Ensure that the EUT and test equipment have the necessary information to send and receive USP Records to each other.</li>
<li>Ensure that there are at least 2 BootParameters configured for the test Controller.</li>
</ol>
<h3 id="sec:test-procedure-178">Test Procedure <a href="10-index-bulk-data-collection-test-cases.html#sec:test-procedure-178" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&#39;
          param_settings {
               param: &#39;Protocol&#39;
               value: &#39;USPEventNotif&#39;
           }
          param_settings {
               param: &#39;EncodingType&#39;
               value: &#39;&lt;JSON or CSV&gt;&#39;
           }
          param_settings {
               param: &#39;ReportingInterval&#39;
               value: &#39;max(60, Device.BulkData.MinReportingInterval)&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.&#39;
          param_settings {
               param: &#39;Name&#39;
               value: &#39;Enabled&#39;
           }
          param_settings {
               param: &#39;Reference&#39;
               value: &#39;Device.LocalAgent.Controller.*.BootParameter.*.Enable&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.LocalAgent.Subscription.&#39;
          param_settings {
               param: &#39;NotifType&#39;
               value: &#39;Event&#39;
           }
          param_settings {
               param: &#39;ReferenceList&#39;
               value: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.Push!&#39;
           }
          param_settings {
               param: &#39;Enable&#39;
               value: &#39;true&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: &#39;Device.BulkData.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
        update_objs {
            obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>
<h3 id="sec:test-metrics-186">Test Metrics <a href="10-index-bulk-data-collection-test-cases.html#sec:test-metrics-186" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfer Push! events to the controller within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The encoding of the Data parameter in the Push! notification is well formed (parsable).</li>
<li>The BulkData transfer contains at least 2 parameters, one for each of the configured BootParameters and the name of the parameters match the expected name <code>Enabled\.[1-9][0-9]*\.[1-9][0-9]*</code>.</li>
</ol>
<h2 id="sec:use-bulkdata-collection-push-event-with-object-path">10.12 Use BulkData collection Push event with Object path <a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-push-event-with-object-path" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:purpose-186">Purpose <a href="10-index-bulk-data-collection-test-cases.html#sec:purpose-186" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>The purpose of this test is to verify that EUT supports BulkData collection via the Push event using an object path.</p>
<h3 id="sec:functionality-tags-97">Functionality Tags <a href="10-index-bulk-data-collection-test-cases.html#sec:functionality-tags-97" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>Conditional Mandatory (supports BulkDataColl:1, “USPEventNotif” ∈ Device.BulkData.Protocols)</p>
<h3 id="sec:test-setup-186">Test Setup <a href="10-index-bulk-data-collection-test-cases.html#sec:test-setup-186" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>Ensure that the EUT and test equipment have the necessary information to send and receive USP Records to each other.</li>
</ol>
<h3 id="sec:test-procedure-179">Test Procedure <a href="10-index-bulk-data-collection-test-cases.html#sec:test-procedure-179" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&#39;
          param_settings {
               param: &#39;Protocol&#39;
               value: &#39;USPEventNotif&#39;
           }
          param_settings {
               param: &#39;EncodingType&#39;
               value: &#39;&lt;JSON or CSV&gt;&#39;
           }
          param_settings {
               param: &#39;ReportingInterval&#39;
               value: &#39;max(60, Device.BulkData.MinReportingInterval)&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.&#39;
          param_settings {
               param: &#39;Name&#39;
               value: &#39;Controller&#39;
           }
          param_settings {
               param: &#39;Reference&#39;
               value: &#39;Device.LocalAgent.Controller.&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.LocalAgent.Subscription.&#39;
          param_settings {
               param: &#39;NotifType&#39;
               value: &#39;Event&#39;
           }
          param_settings {
               param: &#39;ReferenceList&#39;
               value: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.Push!&#39;
           }
          param_settings {
               param: &#39;Enable&#39;
               value: &#39;true&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: &#39;Device.BulkData.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
        update_objs {
            obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>
<h3 id="sec:test-metrics-187">Test Metrics <a href="10-index-bulk-data-collection-test-cases.html#sec:test-metrics-187" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfer Push! events to the controller within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The encoding of the Data parameter in the Push! notification is well formed (parsable).</li>
<li>The BulkData transfer contains at parameters with names using the prefix “Controller”.</li>
</ol>
<h2 id="sec:use-bulkdata-collection-over-mqtt">10.13 Use BulkData collection over MQTT <a href="10-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-over-mqtt" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 id="sec:purpose-187">Purpose <a href="10-index-bulk-data-collection-test-cases.html#sec:purpose-187" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>The purpose of this test is to verify that EUT supports BulkData collection via MQTT.</p>
<h3 id="sec:functionality-tags-98">Functionality Tags <a href="10-index-bulk-data-collection-test-cases.html#sec:functionality-tags-98" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>Conditional Mandatory (supports BulkDataColl:1, “MQTT” ∈ Device.BulkData.Protocols)</p>
<h3 id="sec:test-setup-187">Test Setup <a href="10-index-bulk-data-collection-test-cases.html#sec:test-setup-187" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>Ensure that the EUT and test equipment have the necessary information to send and receive USP Records to each other.</li>
<li>Ensure a MQTT endpoint that is accessible by the EUT is enabled in the test environment.</li>
<li>Ensure there is a Device.MQTT.Client. entry in the EUT’s data model for the MQTT endpoint mentioned in step 2 of the test setup.</li>
</ol>
<h3 id="sec:test-procedure-180">Test Procedure <a href="10-index-bulk-data-collection-test-cases.html#sec:test-procedure-180" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&#39;
          param_settings {
               param: &#39;Protocol&#39;
               value: &#39;MQTT&#39;
           }
          param_settings {
               param: &#39;EncodingType&#39;
               value: &#39;&lt;JSON or CSV&gt;&#39;
           }
          param_settings {
               param: &#39;ReportingInterval&#39;
               value: &#39;max(60, Device.BulkData.MinReportingInterval)&#39;
           }
          param_settings {
               param: &#39;MQTT.Reference&#39;
               value: &#39;&lt;MQTT.Client instance from step 3 of test setup&gt;&#39;
           }
          param_settings {
               param: &#39;MQTT.PublishTopic&#39;
               value: &#39;mqtt-bulkdata&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.&#39;
          param_settings {
               param: &#39;Name&#39;
               value: &#39;UpTime&#39;
           }
          param_settings {
               param: &#39;Reference&#39;
               value: &#39;Device.DeviceInfo.UpTime&#39;
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>
<pre data-filter="pbv" type="Msg"><code>header {
  msg_id: &#39;&lt;msg_id&gt;&#39;
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: &#39;Device.BulkData.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
        update_objs {
            obj_path: &#39;Device.BulkData.Profile.&lt;instance identifier&gt;.&#39;
            param_settings {
              param: &#39;Enable&#39;
              value: &#39;true&#39;
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>
<h3 id="sec:test-metrics-188">Test Metrics <a href="10-index-bulk-data-collection-test-cases.html#sec:test-metrics-188" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<ol>
<li>After enabling the BulkData profile the EUT published 2 BulkData transfers to the MQTT server using using the configured topic within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The encoding of the Data parameter in the MQTT frame notification is well formed (parsable).</li>
<li>The BulkData transfer contains the one parameter configured in step 4 and the name of the parameter matches the expected name ‘UpTime’.</li>
</ol>
    <div style="clear: both;"/>
    <footer class="site-footer">
<nav>
<p>
   <a href="00-index-contents.html#contents">Cover Page</a>
 | <a href="01-index-test-setup.html#sec:test-setup">Test Setup</a>
 | <a href="02-index-authentication-and-access-control-test-cases.html#sec:authentication-and-access-control-test-cases">2 Authentication and Access Control Test Cases</a>
 | <a href="03-index-usp-record-test-cases.html#sec:usp-record-test-cases">3 USP Record Test Cases</a>
 | <a href="04-index-general-mtp-test-cases.html#sec:general-mtp-test-cases">4 General MTP Test Cases</a>
 | <a href="05-index-coap-test-cases-deprecated.html#sec:coap-test-cases-deprecated">5 CoAP Test Cases (DEPRECATED)</a>
 | <a href="06-index-stomp-test-cases.html#sec:stomp-test-cases">6 STOMP Test Cases</a>
 | <a href="07-index-websocket-test-cases.html#sec:websocket-test-cases">7 WebSocket Test Cases</a>
 | <a href="08-index-discovery-test-cases.html#sec:discovery-test-cases">8 Discovery Test Cases</a>
 | <a href="09-index-functionality-test-cases.html#sec:functionality-test-cases">9 Functionality Test Cases</a>
 | <a href="10-index-bulk-data-collection-test-cases.html#sec:bulk-data-collection-test-cases">10 Bulk Data Collection Test Cases</a>
 | <a href="11-index-mqtt-test-cases.html#sec:mqtt-test-cases">11 MQTT Test Cases</a>
</p>
</nav>

      <span class="site-footer-owner">
        USP is developed and maintained
        by <a href="https://www.broadband-forum.org">The Broadband Forum</a>.
        &copy; The Broadband Forum 2022</a>. All Rights Reserved.
      </span>
      <span class="site-footer-credits">
        This page was generated by <a href="https://pandoc.org">pandoc</a>
        and <a href="https://pages.github.com">GitHub Pages</a>.
        View the <a href="https://github.com/BroadbandForum/usp-test">specification source on GitHub</a>.
        <span class="release"/>
      </span>
    </footer>
  </section>
</body>
</html>
