<!-- <h1 class="display-none" id="sec:bulk-data-collection-test-cases">10 Bulk Data Collection Test Cases<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:bulk-data-collection-test-cases" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h1> -->

<h2 id="sec:use-bulkdata-collection-using-http-and-json">10.1 Use BulkData collection using HTTP and JSON<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-http-and-json" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h2>

<h3 id="sec:purpose-175">Purpose<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:purpose-175" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>The purpose of this test is to verify that EUT supports JSON BulkData collection
over HTTP.</p>

<h3 id="sec:functionality-tags-86">Functionality Tags<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:functionality-tags-86" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>Conditional Mandatory (supports BulkDataColl:1, &ldquo;HTTP&rdquo; ∈ Device.BulkData.Protocols, &ldquo;JSON&rdquo; ∈ Device.BulkData.EncodingTypes)</p>

<h3 id="sec:test-setup-175">Test Setup<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-setup-175" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>Ensure that the EUT and test equipment have the necessary
information to send and receive USP Records to each other.</li>
<li>Ensure a HTTP endpoint that is accessible by the EUT
is configured to support receiving JSON BulkData transfers.</li>
</ol>

<h3 id="sec:test-procedure-168">Test Procedure<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-procedure-168" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.'
          param_settings {
               param: 'Protocol'
               value: 'HTTP'
           }
          param_settings {
               param: 'EncodingType'
               value: 'JSON'
           }
          param_settings {
               param: 'ReportingInterval'
               value: 'max(60, Device.BulkData.MinReportingInterval)'
           }
          param_settings {
               param: 'HTTP.URL'
               value: '&lt;URL of http endpoint&gt;'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.'
          param_settings {
               param: 'Name'
               value: 'UpTime'
           }
          param_settings {
               param: 'Reference'
               value: 'Device.DeviceInfo.UpTime'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: 'Device.BulkData.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
        update_objs {
            obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>

<h3 id="sec:test-metrics-176">Test Metrics<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-metrics-176" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfers
to the HTTP endpoint within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The encoding of the BulkData transfer is JSON and is well formed (parsable).</li>
<li>The BulkData transfer contains the one parameter configured in step 4
and the name of the parameter matches the expected name &lsquo;UpTime&rsquo;.</li>
<li>Ensure the Manufacturer OUI, Product Class and Serial Number or the USP
Endpoint ID are encoded as URI parameters in the request.</li>
</ol>

<h2 id="sec:use-bulkdata-collection-using-https-and-json">10.2 Use BulkData collection using HTTPS and JSON<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-https-and-json" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h2>

<h3 id="sec:purpose-176">Purpose<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:purpose-176" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>The purpose of this test is to verify that EUT supports JSON BulkData collection
over HTTPS.</p>

<h3 id="sec:functionality-tags-87">Functionality Tags<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:functionality-tags-87" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>Conditional Mandatory (supports BulkDataColl:1, &ldquo;HTTP&rdquo; ∈ Device.BulkData.Protocols, &ldquo;JSON&rdquo; ∈ Device.BulkData.EncodingTypes)</p>

<h3 id="sec:test-setup-176">Test Setup<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-setup-176" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>Ensure that the EUT and test equipment have the necessary
information to send and receive USP Records to each other.</li>
<li>Ensure a HTTPS endpoint that is accessible by the EUT
is configured to support receiving JSON BulkData transfers.</li>
</ol>

<h3 id="sec:test-procedure-169">Test Procedure<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-procedure-169" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.'
          param_settings {
               param: 'Protocol'
               value: 'HTTP'
           }
          param_settings {
               param: 'EncodingType'
               value: 'JSON'
           }
          param_settings {
               param: 'ReportingInterval'
               value: 'max(60, Device.BulkData.MinReportingInterval)'
           }
          param_settings {
               param: 'HTTP.URL'
               value: '&lt;URL of http endpoint&gt;'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.'
          param_settings {
               param: 'Name'
               value: 'UpTime'
           }
          param_settings {
               param: 'Reference'
               value: 'Device.DeviceInfo.UpTime'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: 'Device.BulkData.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
        update_objs {
            obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>

<h3 id="sec:test-metrics-177">Test Metrics<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-metrics-177" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfers
to the HTTPS endpoint within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The encoding of the BulkData transfer is JSON and is well formed (parsable).</li>
<li>The BulkData transfer contains the one parameter configured in step 4
and the name of the parameter matches the expected name &lsquo;UpTime&rsquo;.</li>
<li>Ensure the Manufacturer OUI, Product Class and Serial Number or the USP
Endpoint ID are encoded as URI parameters in the request.</li>
</ol>

<h2 id="sec:use-bulkdata-collection-using-http-and-csv">10.3 Use BulkData collection using HTTP and CSV<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-http-and-csv" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h2>

<h3 id="sec:purpose-177">Purpose<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:purpose-177" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>The purpose of this test is to verify that EUT supports CSV BulkData collection
over HTTP.</p>

<h3 id="sec:functionality-tags-88">Functionality Tags<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:functionality-tags-88" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>Conditional Mandatory (supports BulkDataColl:1, &ldquo;HTTP&rdquo; ∈ Device.BulkData.Protocols, &ldquo;CSV&rdquo; ∈ Device.BulkData.EncodingTypes)</p>

<h3 id="sec:test-setup-177">Test Setup<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-setup-177" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>Ensure that the EUT and test equipment have the necessary
information to send and receive USP Records to each other.</li>
<li>Ensure a HTTP endpoint that is accessible by the EUT
is configured to support receiving CSV BulkData transfers.</li>
</ol>

<h3 id="sec:test-procedure-170">Test Procedure<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-procedure-170" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.'
          param_settings {
               param: 'Protocol'
               value: 'HTTP'
           }
          param_settings {
               param: 'EncodingType'
               value: 'CSV'
           }
          param_settings {
               param: 'ReportingInterval'
               value: 'max(60, Device.BulkData.MinReportingInterval)'
           }
          param_settings {
               param: 'HTTP.URL'
               value: '&lt;URL of http endpoint&gt;'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.'
          param_settings {
               param: 'Name'
               value: 'UpTime'
           }
          param_settings {
               param: 'Reference'
               value: 'Device.DeviceInfo.UpTime'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: 'Device.BulkData.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
        update_objs {
            obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>

<h3 id="sec:test-metrics-178">Test Metrics<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-metrics-178" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfers
to the HTTP endpoint within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The encoding of the BulkData transfer is CSV and is well formed (parsable).</li>
<li>The BulkData transfer contains the one parameter configured in step 4
and the name of the parameter matches the expected name &lsquo;UpTime&rsquo;.</li>
<li>Ensure the Manufacturer OUI, Product Class and Serial Number or the USP
Endpoint ID are encoded as URI parameters in the request.</li>
</ol>

<h2 id="sec:use-bulkdata-collection-using-https-and-csv">10.4 Use BulkData collection using HTTPS and CSV<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-https-and-csv" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h2>

<h3 id="sec:purpose-178">Purpose<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:purpose-178" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>The purpose of this test is to verify that EUT supports CSV BulkData collection
over HTTPS.</p>

<h3 id="sec:functionality-tags-89">Functionality Tags<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:functionality-tags-89" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>Conditional Mandatory (supports BulkDataColl:1, &ldquo;HTTP&rdquo; ∈ Device.BulkData.Protocols, &ldquo;CSV&rdquo; ∈ Device.BulkData.EncodingTypes)</p>

<h3 id="sec:test-setup-178">Test Setup<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-setup-178" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>Ensure that the EUT and test equipment have the necessary
information to send and receive USP Records to each other.</li>
<li>Ensure a HTTPS endpoint that is accessible by the EUT
is configured to support receiving CSV BulkData transfers.</li>
</ol>

<h3 id="sec:test-procedure-171">Test Procedure<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-procedure-171" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.'
          param_settings {
               param: 'Protocol'
               value: 'HTTP'
           }
          param_settings {
               param: 'EncodingType'
               value: 'CSV'
           }
          param_settings {
               param: 'ReportingInterval'
               value: 'max(60, Device.BulkData.MinReportingInterval)'
           }
          param_settings {
               param: 'HTTP.URL'
               value: '&lt;URL of http endpoint&gt;'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.'
          param_settings {
               param: 'Name'
               value: 'UpTime'
           }
          param_settings {
               param: 'Reference'
               value: 'Device.DeviceInfo.UpTime'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: 'Device.BulkData.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
        update_objs {
            obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>

<h3 id="sec:test-metrics-179">Test Metrics<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-metrics-179" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfers
to the HTTPS endpoint within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The encoding of the BulkData transfer is CSV and is well formed (parsable).</li>
<li>The BulkData transfer contains the one parameter configured in step 4
and the name of the parameter matches the expected name &lsquo;UpTime&rsquo;.</li>
<li>Ensure the Manufacturer OUI, Product Class and Serial Number or the USP
Endpoint ID are encoded as URI parameters in the request.</li>
</ol>

<h2 id="sec:use-bulkdata-collection-using-http-with-uri-parameters">10.5 Use BulkData collection using HTTP with URI Parameters<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-http-with-uri-parameters" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h2>

<h3 id="sec:purpose-179">Purpose<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:purpose-179" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>The purpose of this test is to verify that EUT supports BulkData collection
over HTTP with extra URI parameters</p>

<h3 id="sec:functionality-tags-90">Functionality Tags<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:functionality-tags-90" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>Conditional Mandatory (supports BulkDataColl:1, &ldquo;HTTP&rdquo; ∈ Device.BulkData.Protocols)</p>

<h3 id="sec:test-setup-179">Test Setup<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-setup-179" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>Ensure that the EUT and test equipment have the necessary
information to send and receive USP Records to each other.</li>
<li>Ensure a HTTP endpoint that is accessible by the EUT
is configured.</li>
</ol>

<h3 id="sec:test-procedure-172">Test Procedure<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-procedure-172" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.'
          param_settings {
               param: 'Protocol'
               value: 'HTTP'
           }
          param_settings {
               param: 'EncodingType'
               value: '&lt;Supported Encoding type&gt;'
           }
          param_settings {
               param: 'ReportingInterval'
               value: 'max(60, Device.BulkData.MinReportingInterval)'
           }
          param_settings {
               param: 'HTTP.URL'
               value: '&lt;URL of http endpoint&gt;'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.'
          param_settings {
               param: 'Name'
               value: 'UpTime'
           }
          param_settings {
               param: 'Reference'
               value: 'Device.DeviceInfo.UpTime'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.HTTP.RequestURIParameter.'
          param_settings {
               param: 'Name'
               value: 'UpTime'
           }
          param_settings {
               param: 'Reference'
               value: 'Device.LocalAgent.UpTime'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: 'Device.BulkData.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
        update_objs {
            obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>

<h3 id="sec:test-metrics-180">Test Metrics<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-metrics-180" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfers
to the HTTP endpoint within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The EUT includes the EUT UpTime encoded into the URI using the
name &lsquo;UpTime&rsquo;</li>
<li>Ensure the Manufacturer OUI, Product Class and Serial Number or the USP
Endpoint ID are also encoded as URI parameters in the request.</li>
</ol>

<h2 id="sec:use-bulkdata-collection-using-https-with-uri-parameters">10.6 Use BulkData collection using HTTPS with URI Parameters<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-https-with-uri-parameters" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h2>

<h3 id="sec:purpose-180">Purpose<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:purpose-180" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>The purpose of this test is to verify that EUT supports BulkData collection
over HTTPS with extra URI parameters</p>

<h3 id="sec:functionality-tags-91">Functionality Tags<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:functionality-tags-91" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>Conditional Mandatory (supports BulkDataColl:1, &ldquo;HTTP&rdquo; ∈ Device.BulkData.Protocols)</p>

<h3 id="sec:test-setup-180">Test Setup<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-setup-180" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>Ensure that the EUT and test equipment have the necessary
information to send and receive USP Records to each other.</li>
<li>Ensure a HTTPS endpoint that is accessible by the EUT
is configured.</li>
</ol>

<h3 id="sec:test-procedure-173">Test Procedure<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-procedure-173" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.'
          param_settings {
               param: 'Protocol'
               value: 'HTTP'
           }
          param_settings {
               param: 'EncodingType'
               value: '&lt;Supported Encoding type&gt;'
           }
          param_settings {
               param: 'ReportingInterval'
               value: 'max(60, Device.BulkData.MinReportingInterval)'
           }
          param_settings {
               param: 'HTTP.URL'
               value: '&lt;URL of https endpoint&gt;'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.'
          param_settings {
               param: 'Name'
               value: 'UpTime'
           }
          param_settings {
               param: 'Reference'
               value: 'Device.DeviceInfo.UpTime'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.HTTP.RequestURIParameter.'
          param_settings {
               param: 'Name'
               value: 'UpTime'
           }
          param_settings {
               param: 'Reference'
               value: 'Device.LocalAgent.UpTime'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: 'Device.BulkData.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
        update_objs {
            obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>

<h3 id="sec:test-metrics-181">Test Metrics<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-metrics-181" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfers
to the HTTPS endpoint within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The EUT includes the EUT UpTime encoded into the URI using the
name &lsquo;UpTime&rsquo;</li>
<li>Ensure the Manufacturer OUI, Product Class and Serial Number or the USP
Endpoint ID are also encoded as URI parameters in the request.</li>
</ol>

<h2 id="sec:bulkdata-collection-retry-mechanism-over-http">10.7 BulkData collection retry mechanism over HTTP<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:bulkdata-collection-retry-mechanism-over-http" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h2>

<h3 id="sec:purpose-181">Purpose<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:purpose-181" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>The purpose of this test is to verify that EUT supports BulkData collection
retry mechanism.</p>

<h3 id="sec:functionality-tags-92">Functionality Tags<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:functionality-tags-92" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>Conditional Mandatory (supports BulkDataColl:1, &ldquo;HTTP&rdquo; ∈ Device.BulkData.Protocols)</p>

<h3 id="sec:test-setup-181">Test Setup<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-setup-181" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>Ensure that the EUT and test equipment have the necessary
information to send and receive USP Records to each other.</li>
<li>Ensure a HTTP endpoint that is accessible by the EUT
is configured.</li>
</ol>

<h3 id="sec:test-procedure-174">Test Procedure<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-procedure-174" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.'
          param_settings {
               param: 'Protocol'
               value: 'HTTP'
           }
          param_settings {
               param: 'EncodingType'
               value: '&lt;Supported Encoding type&gt;'
           }
          param_settings {
               param: 'ReportingInterval'
               value: 'max(60, Device.BulkData.MinReportingInterval)'
           }
          param_settings {
               param: 'HTTP.URL'
               value: '&lt;URL of http endpoint&gt;'
           }
          param_settings {
               param: 'HTTP.RetryEnable'
               value: 'true'
           }
          param_settings {
               param: 'HTTP.RetryMinimumWaitInterval'
               value: '5'
           }
          param_settings {
               param: 'HTTP.RetryIntervalMultiplier'
               value: '2000'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.'
          param_settings {
               param: 'Name'
               value: 'UpTime'
           }
          param_settings {
               param: 'Reference'
               value: 'Device.DeviceInfo.UpTime'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Disable the HTTP BulkData collection endpoint.</p></li>
<li><p>Send a Set message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: 'Device.BulkData.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
        update_objs {
            obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to attempt to send a BulkData transfer.</p></li>
<li><p>Wait for 13 seconds for the EUT to retry the BulkData transfer.</p></li>
<li><p>Wait for 23 seconds for the EUT to retry the BulkData transfer.</p></li>
<li><p>Enable the HTTP BulkData collection endpoint</p></li>
<li><p>Wait for 43 seconds for the EUT to retry the BulkData transfer.</p></li>
<li><p>Wait for the EUT to send a BulkData transfer</p></li>
</ol>

<h3 id="sec:test-metrics-182">Test Metrics<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-metrics-182" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfers
to the HTTP endpoint within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The EUT retries sending the BulkData transfer 3 times with each time
occurring within the expected retry interval.</li>
<li>The EUT does not attempt to retry the BulkData transfer after receiving
a positive response in step 9.</li>
<li>Ensure the Manufacturer OUI, Product Class and Serial Number or the USP
Endpoint ID are encoded as URI parameters in each request.</li>
</ol>

<h2 id="sec:use-bulkdata-collection-using-http-with-wildcard-parameter">10.8 Use BulkData collection using HTTP with wildcard parameter<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-http-with-wildcard-parameter" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h2>

<h3 id="sec:purpose-182">Purpose<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:purpose-182" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>The purpose of this test is to verify that EUT supports BulkData collection
over HTTP with a wildcarded parameter</p>

<h3 id="sec:functionality-tags-93">Functionality Tags<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:functionality-tags-93" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>Conditional Mandatory (supports BulkDataColl:1, &ldquo;HTTP&rdquo; ∈ Device.BulkData.Protocols)</p>

<h3 id="sec:test-setup-182">Test Setup<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-setup-182" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>Ensure that the EUT and test equipment have the necessary
information to send and receive USP Records to each other.</li>
<li>Ensure a HTTP endpoint that is accessible by the EUT
is configured.</li>
<li>Ensure there are at least 2 BootParameters configured for
the test controller.</li>
</ol>

<h3 id="sec:test-procedure-175">Test Procedure<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-procedure-175" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.'
          param_settings {
               param: 'Protocol'
               value: 'HTTP'
           }
          param_settings {
               param: 'EncodingType'
               value: '&lt;Supported Encoding type&gt;'
           }
          param_settings {
               param: 'ReportingInterval'
               value: 'max(60, Device.BulkData.MinReportingInterval)'
           }
          param_settings {
               param: 'HTTP.URL'
               value: '&lt;URL of http endpoint&gt;'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.'
          param_settings {
               param: 'Name'
               value: 'Enabled'
           }
          param_settings {
               param: 'Reference'
               value: 'Device.LocalAgent.Controller.*.BootParameter.*.Enable'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: 'Device.BulkData.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
        update_objs {
            obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>

<h3 id="sec:test-metrics-183">Test Metrics<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-metrics-183" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfers
to the HTTP endpoint within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>Ensure at least two &ldquo;Enable&rdquo; are in the BulkData transfer with the
parameter names matching the following expression: <code>Enabled\.[1-9][0-9]*\.[1-9][0-9]*</code></li>
<li>Ensure the Manufacturer OUI, Product Class and Serial Number or the USP
Endpoint ID are also encoded as URI parameters in the request.</li>
</ol>

<h2 id="sec:use-bulkdata-collection-using-http-with-object-path">10.9 Use BulkData collection using HTTP with Object Path<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-using-http-with-object-path" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h2>

<h3 id="sec:purpose-183">Purpose<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:purpose-183" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>The purpose of this test is to verify that EUT supports BulkData collection
over HTTP with an Object Path</p>

<h3 id="sec:functionality-tags-94">Functionality Tags<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:functionality-tags-94" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>Conditional Mandatory (supports BulkDataColl:1, &ldquo;HTTP&rdquo; ∈ Device.BulkData.Protocols)</p>

<h3 id="sec:test-setup-183">Test Setup<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-setup-183" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>Ensure that the EUT and test equipment have the necessary
information to send and receive USP Records to each other.</li>
<li>Ensure a HTTP endpoint that is accessible by the EUT
is configured.</li>
</ol>

<h3 id="sec:test-procedure-176">Test Procedure<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-procedure-176" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.'
          param_settings {
               param: 'Protocol'
               value: 'HTTP'
           }
          param_settings {
               param: 'EncodingType'
               value: '&lt;Supported Encoding type&gt;'
           }
          param_settings {
               param: 'ReportingInterval'
               value: 'max(60, Device.BulkData.MinReportingInterval)'
           }
          param_settings {
               param: 'HTTP.URL'
               value: '&lt;URL of http endpoint&gt;'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.'
          param_settings {
               param: 'Name'
               value: 'TestController'
           }
          param_settings {
               param: 'Reference'
               value: 'Device.LocalAgent.Controller.&lt;controller instance&gt;.'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: 'Device.BulkData.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
        update_objs {
            obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>

<h3 id="sec:test-metrics-184">Test Metrics<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-metrics-184" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfers
to the HTTPS endpoint within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>Ensure that all the parameters included in the BulkData transfer
match <code>TestController.&lt;parameter&gt;</code> and that all expected parameters are
present.</li>
<li>Ensure the Manufacturer OUI, Product Class and Serial Number or the USP
Endpoint ID are also encoded as URI parameters in the request.</li>
</ol>

<h2 id="sec:use-bulkdata-collection-push-event">10.10 Use BulkData collection Push event<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-push-event" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h2>

<h3 id="sec:purpose-184">Purpose<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:purpose-184" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>The purpose of this test is to verify that EUT supports BulkData collection
via the Push event.</p>

<h3 id="sec:functionality-tags-95">Functionality Tags<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:functionality-tags-95" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>Conditional Mandatory (supports BulkDataColl:1, &ldquo;USPEventNotif&rdquo; ∈ Device.BulkData.Protocols)</p>

<h3 id="sec:test-setup-184">Test Setup<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-setup-184" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>Ensure that the EUT and test equipment have the necessary
information to send and receive USP Records to each other.</li>
</ol>

<h3 id="sec:test-procedure-177">Test Procedure<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-procedure-177" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.'
          param_settings {
               param: 'Protocol'
               value: 'USPEventNotif'
           }
          param_settings {
               param: 'EncodingType'
               value: '&lt;JSON or CSV&gt;'
           }
          param_settings {
               param: 'ReportingInterval'
               value: 'max(60, Device.BulkData.MinReportingInterval)'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.'
          param_settings {
               param: 'Name'
               value: 'UpTime'
           }
          param_settings {
               param: 'Reference'
               value: 'Device.DeviceInfo.UpTime'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.LocalAgent.Subscription.'
          param_settings {
               param: 'NotifType'
               value: 'Event'
           }
          param_settings {
               param: 'ReferenceList'
               value: 'Device.BulkData.Profile.&lt;instance identifier&gt;.Push!'
           }
          param_settings {
               param: 'Enable'
               value: 'true'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: 'Device.BulkData.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
        update_objs {
            obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>

<h3 id="sec:test-metrics-185">Test Metrics<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-metrics-185" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfer
Push! events to the controller within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The encoding of the Data parameter in the Push! notification is well
formed (parsable).</li>
<li>The BulkData transfer contains the one parameter configured in step 4
and the name of the parameter matches the expected name &lsquo;UpTime&rsquo;.</li>
</ol>

<h2 id="sec:use-bulkdata-collection-push-event-with-wildcard-path">10.11 Use BulkData collection Push event with Wildcard path<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-push-event-with-wildcard-path" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h2>

<h3 id="sec:purpose-185">Purpose<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:purpose-185" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>The purpose of this test is to verify that EUT supports BulkData collection
via the Push event using a wildcard path.</p>

<h3 id="sec:functionality-tags-96">Functionality Tags<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:functionality-tags-96" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>Conditional Mandatory (supports BulkDataColl:1, &ldquo;USPEventNotif&rdquo; ∈ Device.BulkData.Protocols)</p>

<h3 id="sec:test-setup-185">Test Setup<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-setup-185" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>Ensure that the EUT and test equipment have the necessary
information to send and receive USP Records to each other.</li>
<li>Ensure that there are at least 2 BootParameters configured
for the test Controller.</li>
</ol>

<h3 id="sec:test-procedure-178">Test Procedure<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-procedure-178" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.'
          param_settings {
               param: 'Protocol'
               value: 'USPEventNotif'
           }
          param_settings {
               param: 'EncodingType'
               value: '&lt;JSON or CSV&gt;'
           }
          param_settings {
               param: 'ReportingInterval'
               value: 'max(60, Device.BulkData.MinReportingInterval)'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.'
          param_settings {
               param: 'Name'
               value: 'Enabled'
           }
          param_settings {
               param: 'Reference'
               value: 'Device.LocalAgent.Controller.*.BootParameter.*.Enable'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.LocalAgent.Subscription.'
          param_settings {
               param: 'NotifType'
               value: 'Event'
           }
          param_settings {
               param: 'ReferenceList'
               value: 'Device.BulkData.Profile.&lt;instance identifier&gt;.Push!'
           }
          param_settings {
               param: 'Enable'
               value: 'true'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: 'Device.BulkData.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
        update_objs {
            obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>

<h3 id="sec:test-metrics-186">Test Metrics<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-metrics-186" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfer
Push! events to the controller within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The encoding of the Data parameter in the Push! notification is well
formed (parsable).</li>
<li>The BulkData transfer contains at least 2 parameters, one for each
of the configured BootParameters and the name of the parameters match
the expected name <code>Enabled\.[1-9][0-9]*\.[1-9][0-9]*</code>.</li>
</ol>

<h2 id="sec:use-bulkdata-collection-push-event-with-object-path">10.12 Use BulkData collection Push event with Object path<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-push-event-with-object-path" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h2>

<h3 id="sec:purpose-186">Purpose<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:purpose-186" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>The purpose of this test is to verify that EUT supports BulkData collection
via the Push event using an object path.</p>

<h3 id="sec:functionality-tags-97">Functionality Tags<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:functionality-tags-97" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>Conditional Mandatory (supports BulkDataColl:1, &ldquo;USPEventNotif&rdquo; ∈ Device.BulkData.Protocols)</p>

<h3 id="sec:test-setup-186">Test Setup<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-setup-186" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>Ensure that the EUT and test equipment have the necessary
information to send and receive USP Records to each other.</li>
</ol>

<h3 id="sec:test-procedure-179">Test Procedure<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-procedure-179" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.'
          param_settings {
               param: 'Protocol'
               value: 'USPEventNotif'
           }
          param_settings {
               param: 'EncodingType'
               value: '&lt;JSON or CSV&gt;'
           }
          param_settings {
               param: 'ReportingInterval'
               value: 'max(60, Device.BulkData.MinReportingInterval)'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.'
          param_settings {
               param: 'Name'
               value: 'Controller'
           }
          param_settings {
               param: 'Reference'
               value: 'Device.LocalAgent.Controller.'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.LocalAgent.Subscription.'
          param_settings {
               param: 'NotifType'
               value: 'Event'
           }
          param_settings {
               param: 'ReferenceList'
               value: 'Device.BulkData.Profile.&lt;instance identifier&gt;.Push!'
           }
          param_settings {
               param: 'Enable'
               value: 'true'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: 'Device.BulkData.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
        update_objs {
            obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>

<h3 id="sec:test-metrics-187">Test Metrics<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-metrics-187" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>After enabling the BulkData profile the EUT sent 2 BulkData transfer
Push! events to the controller within 130 (<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The encoding of the Data parameter in the Push! notification is well
formed (parsable).</li>
<li>The BulkData transfer contains at parameters with names using the
prefix &ldquo;Controller&rdquo;.</li>
</ol>

<h2 id="sec:use-bulkdata-collection-over-mqtt">10.13 Use BulkData collection over MQTT<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:use-bulkdata-collection-over-mqtt" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h2>

<h3 id="sec:purpose-187">Purpose<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:purpose-187" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>The purpose of this test is to verify that EUT supports BulkData collection
via MQTT.</p>

<h3 id="sec:functionality-tags-98">Functionality Tags<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:functionality-tags-98" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<p>Conditional Mandatory (supports BulkDataColl:1, &ldquo;MQTT&rdquo; ∈ Device.BulkData.Protocols)</p>

<h3 id="sec:test-setup-187">Test Setup<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-setup-187" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>Ensure that the EUT and test equipment have the necessary
information to send and receive USP Records to each other.</li>
<li>Ensure a MQTT endpoint that is accessible by the EUT
is enabled in the test environment.</li>
<li>Ensure there is a Device.MQTT.Client. entry in the EUT’s
data model for the MQTT endpoint mentioned in step 2 of the
test setup.</li>
</ol>

<h3 id="sec:test-procedure-180">Test Procedure<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-procedure-180" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li><p>Send an Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.'
          param_settings {
               param: 'Protocol'
               value: 'MQTT'
           }
          param_settings {
               param: 'EncodingType'
               value: '&lt;JSON or CSV&gt;'
           }
          param_settings {
               param: 'ReportingInterval'
               value: 'max(60, Device.BulkData.MinReportingInterval)'
           }
          param_settings {
               param: 'MQTT.Reference'
               value: '&lt;MQTT.Client instance from step 3 of test setup&gt;'
           }
          param_settings {
               param: 'MQTT.PublishTopic'
               value: 'mqtt-bulkdata'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Allow the EUT to send an AddResponse</p></li>
<li><p>Record the instance identifiers of the created objects as reported by the EUT.</p></li>
<li><p>Send a Add message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: ADD
}
body {
  request {
    add {
      allow_partial: false
      create_objs {
          obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.Parameter.'
          param_settings {
               param: 'Name'
               value: 'UpTime'
           }
          param_settings {
               param: 'Reference'
               value: 'Device.DeviceInfo.UpTime'
           }
        }
    }
  }
}</code></pre></li>
<li><p>Send a Set message to the EUT with the following structure:</p>

<pre><code filter="pbv" type="Msg">header {
  msg_id: '&lt;msg_id&gt;'
  msg_type: SET
}
body {
  request {
    set {
        allow_partial: false
        update_objs {
            obj_path: 'Device.BulkData.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
        update_objs {
            obj_path: 'Device.BulkData.Profile.&lt;instance identifier&gt;.'
            param_settings {
              param: 'Enable'
              value: 'true'
            }
          }
    }
  }
}</code></pre></li>
<li><p>Wait up to 130 (<code>(ReportingInterval * 2) + 10</code>) seconds</p></li>
</ol>

<h3 id="sec:test-metrics-188">Test Metrics<a class="headerlink" href="11-index-bulk-data-collection-test-cases.html#sec:test-metrics-188" title="Permalink to this header"> <img src='permalink.png' title='' width="0.8em"/></a></h3>

<ol>
<li>After enabling the BulkData profile the EUT published 2 BulkData transfers
to the MQTT server using using the configured topic within 130
(<code>(ReportingInterval * 2) + 10</code>) seconds.</li>
<li>The encoding of the Data parameter in the MQTT frame notification is well
formed (parsable).</li>
<li>The BulkData transfer contains the one parameter configured in step 4
and the name of the parameter matches the expected name &lsquo;UpTime&rsquo;.</li>
</ol>

